/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Mar. 20, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b(1a F!=="1D"){F={}}!9(8){1E.26(8);b(1a 8.N!=="1D"){8.N={}}1E.27(8.N);8.A("N")}(F);!9(8){6 o=8.c.28(e,{29:(0),2a:(1),2b:(16),2c:(18),2d:(20),2e:(22),2f:(2g),2h:(2i),2j:(2k),2l:(2m),2n:(2o),2p:(2q),2r:(2s),2t:(2u),2v:(2w),1e:(2x)});8.N.o=o;8.N.A("o")}(F);!9(8){6 G=8.c.G;6 o=8.N.o;6 1F=2y;6 1G=9(){6 T=1f.1s(1f.2z()*1F);b(T>0){a T}h{b(T<0){a-T}}a 2A+2B};6 j=9(v){b((1a v==="2C")||v w o){v={"c":v,"T":1G()}}G.X(5,v);6 c=v["c"];b(c w o){c=c.1b()}5.c=c;5.T=v["T"]};8.Y(j,G,e);j.d.1g=9(){a 5.Q("C")};j.d.1H=9(1h){5.15("C",1h)};6 1t={};j.A=9(c,R){6 1i;b(c w o){1i=c.1b()}h{1i=c}1t[1i]=R};j.x=9(m){b(!m){a e}h{b(m w j){a m}}6 c=m["c"];b(c w o){c=c.1b()}6 R=1t[c];b(1a R==="9"){a j.1I(R,m)}a p j(m)};j.1I=9(R,1u){b(1a R.x==="9"){a R.x(1u)}h{a p R(1u)}};8.j=j;8.A("j")}(F);!9(8){6 G=8.c.G;6 o=8.N.o;6 k=9(t){G.X(5,t);5.l=t["l"];5.f=t["f"];5.q=t["q"]};8.Y(k,G,e);k.d.1v=9(){6 q=5.q;b(q){a p 1w(q*1x)}h{a e}};k.2D=9(l,f,q){6 t={"l":l,"f":f};b(!q){q=p 1w();t["q"]=1f.1s(q.1v()/1x)}h{b(q w 1w){t["q"]=1f.1s(q.1v()/1x)}h{t["q"]=q}}a p k(t)};k.x=9(t){b(!t){a e}h{b(t w k){a t}}a p k(t)};k.d.1g=9(){a 5.Q("C")};k.d.1H=9(1h){5.15("C",1h)};k.d.2E=9(){6 c=5.Q("c");b(c w o){a c.1b()}h{a c}};k.d.2F=9(c){b(c w o){5.15("c",c.1b())}h{5.15("c",c)}};8.k=k;8.A("k")}(F);!9(8){6 1j=9(){};8.1k(1j,e);6 S=9(){};8.1k(S,[1j]);S.d.1J=9(m,1y,1l){H.I(D,"J K!");a e};S.d.1K=9(y,1l){H.I(D,"J K!");a e};S.d.1z=9(1y,f,1l){H.I(D,"J K!");a e};S.d.1A=9(s,1l){H.I(D,"J K!");a e};6 L=9(){};8.1k(L,[1j]);L.d.1L=9(s,17){H.I(D,"J K!");a e};L.d.1B=9(s,l,f,17){H.I(D,"J K!");a e};L.d.1M=9(y,17){H.I(D,"J K!");a e};L.d.1N=9(y,1y,17){H.I(D,"J K!");a e};L.d.1O=9(y,l,17){H.I(D,"J K!");a e};L.d.1P=9(M,17){H.I(D,"J K!");a e};6 Z=9(){};8.1k(Z,[L]);Z.d.1Q=9(M,1R){H.I(D,"J K!");a e};Z.d.1S=9(y,M,l,1R){H.I(D,"J K!");a D};8.S=S;8.L=L;8.Z=Z;8.A("S");8.A("L");8.A("Z")}(F);!9(8){6 G=8.c.G;6 k=8.k;6 n=9(7){G.X(5,7);5.O=k.x(7);5.z=e};8.Y(n,G,e);n.x=9(7){b(!7){a e}b(7.1c("m")){a 8.E.x(7)}b(7.1c("M")){a 8.r.x(7)}b(7.1c("y")){a 8.g.x(7)}b(7 w n){a 7}a p n(7)};8.n=n;8.A("n")}(F);!9(8){6 k=8.k;6 j=8.j;6 n=8.n;6 E=9(7){n.X(5,7);5.m=j.x(7["m"])};8.Y(E,n,e);E.2G=9(m,1T){6 7;6 1d=19.1m;b(1d===2){6 t=k.x(1T);7=t.10(11)}h{b(1d===3||1d===4){6 l=19[1];6 f=19[2];6 q=(1d===4)?19[3]:0;7={"l":l,"f":f,"q":q}}h{1U 1V("2H 1W 19 2I: "+19)}}7["m"]=m;a p E(7)};E.x=9(7){b(!7){a e}b(7 w E){a 7}a p E(7)};E.d.2J=9(U,V){6 7=5.10(11);6 y=5.z.1J(5.m,U,5);7["y"]=5.z.1K(y,5);12 7["m"];6 s;b(V&&V.1m>0){6 u={};6 1C=0;6 13;1X(6 i=0;i<V.1m;++i){13=V[i];s=5.z.1z(U,13,5);b(s){u[13]=5.z.1A(s,5);1C+=1}}b(1C>0){7["u"]=u}}h{6 f=5.O.f;s=5.z.1z(U,f,5);b(s){7["s"]=5.z.1A(s,5)}}a p 8.g(7)};8.E=E;8.A("E")}(F);!9(8){6 n=8.n;6 g=9(7){n.X(5,7)};8.Y(g,n,e);g.d.1n=9(){6 B=5.Q("y");a 5.z.1M(B,5)};g.d.1Y=9(){6 B=5.Q("s");b(!B){6 u=5.1o();b(u){B=u[5.O.f]}}b(B){a 5.z.1L(B,5)}h{a e}};g.d.1o=9(){a 5.Q("u")};g.x=9(7){b(!7){a e}b(7.1c("M")){a 8.r.x(7)}b(7 w g){a 7}a p g(7)};g.d.1Z=9(){6 l=5.O.l;6 f=5.O.f;6 C=5.O.1g();6 s=5.1Y();6 U;b(C){U=5.z.1B(s,l,C,5)}h{U=5.z.1B(s,l,f,5)}6 y=5.1n();6 m=5.z.1N(y,U,5);b(!m){1U 1V("2K 2L 1Z 1W y: "+5)}6 7=5.10(11);12 7["s"];12 7["u"];12 7["y"];7["m"]=m;a p 8.E(7)};g.d.2M=9(){6 l=5.O.l;6 M=5.z.1O(5.1n(),l,5);6 B=5.z.1P(M,5);6 7=5.10(11);7["M"]=B;a p 8.r(7)};g.d.2N=9(V){6 1p=5 w 8.r;6 u=5.1o();6 C=5.O.f;6 1q=[];6 7;6 f;1X(6 i=0;i<V.1m;++i){f=V[i];7=5.10(11);7["f"]=f;7["C"]=C;b(u){12 7["u"];7["s"]=u[f]}b(1p){1q.21(p 8.r(7))}h{1q.21(p g(7))}}a 1q};g.d.2O=9(13){6 7=5.10(11);7["f"]=13;6 u=5.1o();b(u){6 B=u[13];b(B){7["s"]=B}12 7["u"]}6 C=5.O.1g();b(!C){7["C"]=5.O.f}6 1p=5 w 8.r;b(1p){a p 8.r(7)}h{a p g(7)}};8.g=g;8.A("g")}(F);!9(8){6 g=8.g;6 r=9(7){g.X(5,7)};8.Y(r,g,e);r.d.23=9(){6 B=5.Q("M");a 5.z.1Q(B,5)};r.d.2P=9(1r){5.15("1r",1r)};r.d.2Q=9(){a 5.Q("1r")};r.x=9(7){b(!7){a e}b(7 w r){a 7}a p r(7)};r.d.2R=9(){6 l=5.O.l;6 y=5.1n();6 M=5.23();b(5.z.1S(y,M,l,5)){6 7=5.10(11);12 7["M"];a p g(7)}h{a e}};8.r=r;8.A("r")}(F);!9(8){6 o=8.N.o;6 j=8.j;6 n=8.n;6 W=9(v){6 14=e;b(!v){v=o.1e}h{b(v w n){14=v;v=o.1e}}j.X(5,v);b(14){5.24(14)}h{b(v.1c("P")){5.25()}h{5.P=e}}};8.Y(W,j,e);W.d.25=9(){b(!5.P){6 P=5.Q("P");5.P=n.x(P)}a 5.P};W.d.24=9(14){5.15("P",14);5.P=14};j.A(o.1e,W);8.N.W=W;8.N.A("W")}(F);',62,178,'|||||this|var|msg|ns|function|return|if|type|prototype|null|receiver|SecureMessage|else||Content|Envelope|sender|content|Message|ContentType|new|time|ReliableMessage|key|env|keys|info|instanceof|getInstance|data|delegate|register|base64|group|false|InstantMessage|DaoKeDao|Dictionary|console|assert|implement|me|SecureMessageDelegate|signature|protocol|envelope|forward|getValue|clazz|InstantMessageDelegate|sn|password|members|ForwardContent|call|Class|ReliableMessageDelegate|getMap|true|delete|member|secret|setValue||sMsg||arguments|typeof|valueOf|hasOwnProperty|count|FORWARD|Math|getGroup|identifier|value|MessageDelegate|Interface|iMsg|length|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|getTime|Date|1000|pwd|encryptKey|encodeKey|decryptKey|keys_length|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|createInstance|encryptContent|encodeData|decodeKey|decodeData|decryptContent|signData|encodeSignature|decodeSignature|rMsg|verifyDataSignature|heads|throw|Error|message|for|getKey|decrypt||push||getSignature|setMessage|getMessage|exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|TRANSFER|65|LUCKY_MONEY|66|CLAIM_PAYMENT|72|SPLIT_BILL|73|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|newMessage|instant|error|encrypt|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
