/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Jan. 28, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('c(1b J!=="1z"){J={}}!9(8){1A.23(8);c(1b 8.O!=="1z"){8.O={}}1A.24(8.O);8.D("O")}(J);!9(8){7 t=8.f.25({26:(0),27:(1),28:(16),29:(18),2a:(20),2b:(22),2c:(2d),2e:(2f),2g:(2h),2i:(2j),2k:(2l),2m:(2n),2o:(2p),2q:(2r),2s:(2t),1h:(2u)});8.O.t=t;8.O.D("t")}(J);!9(8){7 K=8.f.K;7 t=8.O.t;7 1B=2v;7 1C=9(){7 U=1i.1s(1i.2w()*1B);c(U>0){b U}q{c(U<0){b-U}}b 2x+2y};7 p=9(y){c((1b y==="2z")||y z t){y={"f":y,"U":1C()}}K.Y(6,y);7 f=y["f"];c(f z t){f=f.1c()}6.f=f;6.U=y["U"]};8.Z(p,K,a);p.g.1d=9(){b 6.R("E")};p.g.1D=9(1j){6.17("E",1j)};7 1t={};p.D=9(f,S){7 1k;c(f z t){1k=f.1c()}q{1k=f}1t[1k]=S};p.A=9(o){c(!o){b a}q{c(o z p){b o}}7 f=o["f"];c(f z t){f=f.1c()}7 S=1t[f];c(1b S==="9"){b p.1E(S,o)}b v p(o)};p.1E=9(S,1u){c(1b S.A==="9"){b S.A(1u)}q{b v S(1u)}};8.p=p;8.D("p")}(J);!9(8){7 K=8.f.K;7 t=8.O.t;7 r=9(x){K.Y(6,x);6.m=x["m"];6.j=x["j"];6.C=x["C"]};8.Z(r,K,a);r.2A=9(m,j,C){7 x={"m":m,"j":j};c(!C){C=v 1F();x["C"]=1i.1s(C.1G()/1H)}q{c(C z 1F){x["C"]=1i.1s(C.1G()/1H)}q{x["C"]=C}}b v r(x)};r.A=9(x){c(!x){b a}q{c(x z r){b x}}b v r(x)};r.g.1d=9(){b 6.R("E")};r.g.1D=9(1j){6.17("E",1j)};r.g.2B=9(){7 f=6.R("f");c(f z t){b f.1c()}q{b f}};r.g.2C=9(f){c(f z t){6.17("f",f.1c())}q{6.17("f",f)}};8.r=r;8.D("r")}(J);!9(8){7 1l=9(){};8.1m(1l,a);7 T=9(){};8.1m(T,1l);T.g.1I=9(o,19,5){d.e(o!==a,"o h");d.e(19!==a,"k h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};T.g.1J=9(l,5){d.e(l!==a,"5 l h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};T.g.1v=9(19,j,5){d.e(19!==a,"k h");d.e(j!==a,"j h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};T.g.1w=9(k,5){d.e(k!==a,"k l h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};7 N=9(){};8.1m(N,1l);N.g.1K=9(k,5){d.e(k!==a,"k 2D h");d.e(5!==a,"2E 1x h");d.e(H,"L M!");b a};N.g.1y=9(k,m,j,5){d.e(k!==a,"k l h");d.e(m!==a,"m h");d.e(j!==a,"j h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};N.g.1L=9(l,5){d.e(l!==a,"5 l h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};N.g.1M=9(l,19,5){d.e(l!==a,"5 l h");d.e(19!==a,"k h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};N.g.1N=9(l,m,5){d.e(l!==a,"5 l h");d.e(m!==a,"m h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};N.g.1O=9(F,5){d.e(F!==a,"5 F h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};7 10=9(){};8.1m(10,N);10.g.1P=9(F,5){d.e(5!==a,"5 h");d.e(5!==a,"5 h");d.e(H,"L M!");b a};10.g.1Q=9(l,F,m,5){d.e(5!==a,"5 h");d.e(5!==a,"5 h");d.e(5!==a,"5 h");d.e(5!==a,"5 h");d.e(H,"L M!");b H};8.T=T;8.N=N;8.10=10;8.D("T");8.D("N");8.D("10")}(J);!9(8){7 K=8.f.K;7 r=8.r;7 s=9(5){K.Y(6,5);6.P=r.A(5);6.B=a};8.Z(s,K,a);s.A=9(5){c(!5){b a}c(5.1e("o")){b 8.I.A(5)}c(5.1e("F")){b 8.u.A(5)}c(5.1e("l")){b 8.n.A(5)}c(5 z s){b 5}b v s(5)};8.s=s;8.D("s")}(J);!9(8){7 r=8.r;7 p=8.p;7 s=8.s;7 I=9(5){s.Y(6,5);6.o=p.A(5["o"])};8.Z(I,s,a);I.2F=9(o,1R){7 5;7 1f=1a.1g;c(1f===2){7 x=r.A(1R);5=x.11(12)}q{c(1f===3||1f===4){7 m=1a[1];7 j=1a[2];7 C=(1f===4)?1a[3]:0;5={"m":m,"j":j,"C":C}}q{1S 1T("2G 1x 1a 2H: "+1a)}}5["o"]=o;b v I(5)};I.A=9(5){c(!5){b a}c(5 z I){b 5}b v I(5)};I.g.2I=9(V,W){7 5=6.11(12);7 l=6.B.1I(6.o,V,6);5["l"]=6.B.1J(l,6);13 5["o"];7 k;c(W&&W.1g>0){7 w={};7 14;1U(7 i=0;i<W.1g;++i){14=W[i];k=6.B.1v(V,14,6);c(k){w[14]=6.B.1w(k,6)}}c(w.1g>0){5["w"]=w}5["E"]=6.o.1d()}q{7 j=6.P.j;k=6.B.1v(V,j,6);c(k){5["k"]=6.B.1w(k,6)}}b v 8.n(5)};8.I=I;8.D("I")}(J);!9(8){7 s=8.s;7 n=9(5){s.Y(6,5)};8.Z(n,s,a);n.g.1n=9(){7 G=6.R("l");b 6.B.1L(G,6)};n.g.1V=9(){7 G=6.R("k");c(!G){7 w=6.1o();c(w){G=w[6.P.j]}}c(G){b 6.B.1K(G,6)}q{b a}};n.g.1o=9(){b 6.R("w")};n.A=9(5){c(!5){b a}c(5.1e("F")){b 8.u.A(5)}c(5 z n){b 5}b v n(5)};n.g.1W=9(){7 m=6.P.m;7 j=6.P.j;7 E=6.P.1d();7 k=6.1V();7 V;c(E){V=6.B.1y(k,m,E,6)}q{V=6.B.1y(k,m,j,6)}7 l=6.1n();7 o=6.B.1M(l,V,6);c(!o){1S 1T("2J 2K 1W 1x l: "+6)}7 5=6.11(12);13 5["k"];13 5["w"];13 5["l"];5["o"]=o;b v 8.I(5)};n.g.2L=9(){7 m=6.P.m;7 F=6.B.1N(6.1n(),m,6);7 G=6.B.1O(F,6);7 5=6.11(12);5["F"]=G;b v 8.u(5)};n.g.2M=9(W){7 1p=6 z 8.u;7 w=6.1o();7 E=6.P.j;7 1q=[];7 5;7 j;1U(7 i=0;i<W.1g;++i){j=W[i];5=6.11(12);5["j"]=j;5["E"]=E;c(w){13 5["w"];5["k"]=w[j]}c(1p){1q.1X(v 8.u(5))}q{1q.1X(v n(5))}}b 1q};n.g.2N=9(14){7 5=6.11(12);5["j"]=14;7 w=6.1o();c(w){7 G=w[14];c(G){5["k"]=G}13 5["w"]}7 E=6.P.1d();c(!E){5["E"]=6.P.j}7 1p=6 z 8.u;c(1p){b v 8.u(5)}q{b v n(5)}};8.n=n;8.D("n")}(J);!9(8){7 n=8.n;7 u=9(5){n.Y(6,5)};8.Z(u,n,a);u.g.1Y=9(){7 G=6.R("F");b 6.B.1P(G,6)};u.g.2O=9(1r){6.17("1r",1r)};u.g.2P=9(){b 6.R("1r")};u.A=9(5){c(!5){b a}c(5 z u){b 5}b v u(5)};u.g.2Q=9(){7 m=6.P.m;7 l=6.1n();7 F=6.1Y();c(6.B.1Q(l,F,m,6)){7 5=6.11(12);13 5["F"];b v n(5)}q{b a}};8.u=u;8.D("u")}(J);!9(8){7 t=8.O.t;7 p=8.p;7 s=8.s;7 X=9(y){7 15=a;c(!y){y=t.1h}q{c(y z s){15=y;y=t.1h}}p.Y(6,y);c(15){6.1Z(15)}q{c(y.1e("Q")){6.21()}q{6.Q=a}}};8.Z(X,p,a);X.g.21=9(){c(!6.Q){7 Q=6.R("Q");6.Q=s.A(Q)}b 6.Q};X.g.1Z=9(15){6.17("Q",15);6.Q=15};p.D(t.1h,X);8.O.X=X;8.O.D("X")}(J);',62,177,'|||||msg|this|var|ns|function|null|return|if|console|assert|type|prototype|empty||receiver|key|data|sender|SecureMessage|content|Content|else|Envelope|Message|ContentType|ReliableMessage|new|keys|env|info|instanceof|getInstance|delegate|time|register|group|signature|base64|false|InstantMessage|DaoKeDao|Dictionary|implement|me|SecureMessageDelegate|protocol|envelope|forward|getValue|clazz|InstantMessageDelegate|sn|password|members|ForwardContent|call|Class|ReliableMessageDelegate|getMap|true|delete|member|secret||setValue||pwd|arguments|typeof|valueOf|getGroup|hasOwnProperty|count|length|FORWARD|Math|identifier|value|MessageDelegate|Interface|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|encryptKey|encodeKey|message|decryptKey|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|createInstance|Date|getTime|1000|encryptContent|encodeData|decodeKey|decodeData|decryptContent|signData|encodeSignature|decodeSignature|verifyDataSignature|heads|throw|Error|for|getKey|decrypt|push|getSignature|setMessage||getMessage||exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|TRANSFER|65|LUCKY_MONEY|66|CLAIM_PAYMENT|72|SPLIT_BILL|73|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|string|secure|newMessage|instant|error|encrypt|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
