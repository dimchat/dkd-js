/**
 * DaoKeDao - Message Module (v0.2.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Apr. 19, 2022
 * @copyright (c) 2022 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"1O"!==U z&&(z=w 2d.1P);(4(a,k){k.2R(a);"4"!==U a.i&&(a.i=2S.i);"1O"!==U a.s&&(a.s=w a.1P);"1O"!==U a.v&&(a.v=w a.1P);a.A("s");a.A("v")})(z,2d);(4(a){9 k=a.B.2T(7,{2U:1,2V:16,2W:18,2X:20,2Y:22,2Z:32,30:31,33:34,35:36,37:38,39:3a,3b:3c,3d:3e,3f:3g,3h:3i});a.s.1u=k;a.s.A("1u")})(z);(4(a){9 k=a.s.2e,g=4(){};a.x(g,[a.B.1Q]);g.8.H=4(){a.i(!1,"j o!");6 0};g.H=4(d){6 d.B};g.8.1v=4(){a.i(!1,"j o!");6 0};g.1v=4(d){6 d.2f};g.8.C=4(){a.i(!1,"j o!");6 7};g.C=4(d){6(d=d.1i)?w Z(1c*d):7};g.8.F=4(){a.i(!1,"j o!");6 7};g.8.V=4(d){a.i(!1,"j o!")};g.F=4(d){6 k.y(d.W)};g.V=4(d,c){d?c.W=d.J():I c.W};9 e=4(){};a.x(e,7);e.8.2g=4(d){a.i(!1,"j o!");6 7};g.Q=e;9 f={};g.R=4(d,c){f["1w"===U d?d:d.1x()]=c};g.G=4(d){6 f["1w"===U d?d:d.1x()]};g.y=4(d){u(!d)6 7;u(a.x.1d(d,g))6 d;d=a.B.1j.1k(d);9 c=g.H(d);(c=g.G(c))||(c=g.G(0));6 c.2g(d)};a.s.1y=g;a.s.A("1y")})(z);(4(a){9 k=a.s.2e,g=a.s.1u,e=4(){};a.x(e,[a.B.1Q]);e.8.O=4(){a.i(!1,"j o!");6 7};e.O=4(c){6 k.y(c.1l)};e.8.K=4(){a.i(!1,"j o!");6 7};e.K=4(c){6 k.y(c.1m)};e.8.C=4(){a.i(!1,"j o!");6 7};e.C=4(c){6(c=c.1i)?w Z(1c*c):7};e.8.F=4(){a.i(!1,"j o!");6 7};e.8.V=4(c){a.i(!1,"j o!")};e.F=4(c){6 k.y(c.W)};e.V=4(c,b){c?b.W=c.J():I b.W};e.8.H=4(){a.i(!1,"j o!");6 7};e.8.1z=4(c){a.i(!1,"j o!")};e.H=4(c){6(c=c.B)?c:0};e.1z=4(c,b){c?(c 2h g&&(c=c.1x()),b.B=c):I b.B};9 f=4(){};a.x(f,7);f.8.1R=4(c,b,h){a.i(!1,"j o!");6 7};f.8.1S=4(c){a.i(!1,"j o!");6 7};e.Q=f;9 d=7;e.G=4(){6 d};e.R=4(c){d=c};e.2i=4(c,b,h){6 e.G().1R(c,b,h)};e.y=4(c){u(!c)6 7;u(a.x.1d(c,e))6 c;c=a.B.1j.1k(c);6 e.G().1S(c)};a.s.1e=e;a.s.A("1e")})(z);(4(a){9 k=a.s.1e,g=4(){};a.x(g,[a.B.1Q]);g.8.M=4(){a.i(!1,"j o!");6 7};g.8.2j=4(f){a.i(!1,"j o!")};g.8.N=4(){a.i(!1,"j o!");6 7};g.N=4(f){6 k.y(f)};g.8.O=4(){a.i(!1,"j o!");6 7};g.8.K=4(){a.i(!1,"j o!");6 7};g.8.C=4(){a.i(!1,"j o!");6 7};g.8.F=4(){a.i(!1,"j o!");6 7};g.8.H=4(){a.i(!1,"j o!");6 7};9 e=4(){};a.x(e,7);g.10=e;a.s.1f=g;a.s.A("1f")})(z);(4(a){9 k=a.s.1y,g=a.s.1f,e=4(){};a.x(e,[g]);e.8.11=4(){a.i(!1,"j o!");6 7};e.11=4(c){6 k.y(c.12)};e.8.2k=4(c,b){a.i(!1,"j o!");6 7};9 f=4(){};a.x(f,[g.10]);f.8.2l=4(c,b,h){a.i(!1,"j o!");6 7};f.8.2m=4(c,b,h){a.i(!1,"j o!");6 7};f.8.2n=4(c,b){a.i(!1,"j o!");6 7};f.8.1T=4(c,b){a.i(!1,"j o!");6 7};f.8.1U=4(c,b,h){a.i(!1,"j o!");6 7};f.8.1V=4(c,b){a.i(!1,"j o!");6 7};e.10=f;g=4(){};a.x(g,7);g.8.1n=4(c,b){a.i(!1,"j o!");6 0};g.8.1W=4(c,b){a.i(!1,"j o!");6 7};g.8.1X=4(c){a.i(!1,"j o!");6 7};e.Q=g;9 d=7;e.G=4(){6 d};e.R=4(c){d=c};e.1n=4(c,b){6 e.G().1n(c,b)};e.2i=4(c,b){6 e.G().1W(c,b)};e.y=4(c){u(!c)6 7;u(a.x.1d(c,e))6 c;c=a.B.1j.1k(c);6 e.G().1X(c)};a.s.1g=e;a.s.A("1g")})(z);(4(a){9 k=a.s.1f,g=4(){};a.x(g,[k]);g.8.1o=4(){a.i(!1,"j o!");6 7};g.8.1Y=4(){a.i(!1,"j o!");6 7};g.8.1p=4(){a.i(!1,"j o!");6 7};g.8.1A=4(){a.i(!1,"j o!");6 7};g.8.2o=4(){a.i(!1,"j o!");6 7};g.8.2p=4(d){a.i(!1,"j o!");6 7};g.8.2q=4(d){a.i(!1,"j o!");6 7};9 e=4(){};a.x(e,[k.10]);e.8.2r=4(d,c){a.i(!1,"j o!");6 7};e.8.2s=4(d,c,b,h){a.i(!1,"j o!");6 7};e.8.2t=4(d,c,b,h){a.i(!1,"j o!");6 7};e.8.2u=4(d,c){a.i(!1,"j o!");6 7};e.8.2v=4(d,c,b){a.i(!1,"j o!");6 7};e.8.2w=4(d,c,b){a.i(!1,"j o!");6 7};e.8.2x=4(d,c,b){a.i(!1,"j o!");6 7};e.8.2y=4(d,c){a.i(!1,"j o!");6 7};g.10=e;k=4(){};a.x(k,7);k.8.1Z=4(d){a.i(!1,"j o!");6 7};g.Q=k;9 f=7;g.G=4(){6 f};g.R=4(d){f=d};g.y=4(d){u(!d)6 7;u(a.x.1d(d,g))6 d;d=a.B.1j.1k(d);6 g.G().1Z(d)};a.s.13=g;a.s.A("13")})(z);(4(a){9 k=a.s.3j,g=a.s.3k,e=a.s.13,f=4(){};a.x(f,[e]);f.8.21=4(){a.i(!1,"j o!");6 7};f.8.1B=4(){a.i(!1,"j o!");6 7};f.8.1C=4(b){a.i(!1,"j o!");6 7};f.1B=4(b){6 k.y(b.23)};f.1C=4(b,h){b?h.23=b.E():I h.23};f.8.1D=4(){a.i(!1,"j o!");6 7};f.8.1E=4(b){a.i(!1,"j o!");6 7};f.1D=4(b){6 g.y(b.24)};f.1E=4(b,h){b?h.24=b.E():I h.24};f.8.2z=4(){a.i(!1,"j o!");6 7};9 d=4(){};a.x(d,[e.10]);d.8.2A=4(b,h){a.i(!1,"j o!");6 7};d.8.2B=4(b,h,l,m){a.i(!1,"j o!");6!1};f.10=d;e=4(){};a.x(e,7);e.8.25=4(b){a.i(!1,"j o!");6 7};f.Q=e;9 c=7;f.G=4(){6 c};f.R=4(b){c=b};f.y=4(b){u(!b)6 7;u(a.x.1d(b,f))6 b;b=a.B.1j.1k(b);6 f.G().25(b)};a.s.1q=f;a.s.A("1q")})(z);(4(a){9 k=a.B.26,g=a.s.1u,e=a.s.1y,f=a.s.1g,d=4(c){c 2h g&&(c=c.1x());u("1w"===U c){9 b=c;9 h=w Z;9 l=f.1n(b,h);c={B:b,2f:l,1i:h.C()/1c}}14 b=e.H(c),l=e.1v(c),h=e.C(c);k.L(5,c);5.2C=b;5.2D=l;5.1F=h};a.P(d,k,[e],{H:4(){6 5.2C},1v:4(){6 5.2D},C:4(){6 5.1F},F:4(){9 c=5.E();6 e.F(c)},V:4(c){9 b=5.E();e.V(c,b)}});a.v.2E=d;a.v.A("2E")})(z);(4(a){9 k=a.B.26,g=a.s.1e,e=4(){u(1===D.X){9 f=D[0];9 d=g.O(f);9 c=g.K(f);9 b=g.C(f)}14 u(2===D.X)d=D[0],c=D[1],b=w Z,f={1l:d.J(),1m:c.J(),1i:b.C()/1c};14 u(3===D.X)d=D[0],c=D[1],(b=D[2])?"1w"===U b&&(b=w Z(1c*b)):b=w Z,f={1l:d.J(),1m:c.J(),1i:b.C()/1c};14 S w 2F("3l D 2G: "+D);k.L(5,f);5.2H=d;5.2I=c;5.1F=b};a.P(e,k,[g],{O:4(){6 5.2H},K:4(){6 5.2I},C:4(){6 5.1F},F:4(){9 f=5.E();6 g.F(f)},V:4(f){9 d=5.E();g.V(f,d)},H:4(){9 f=5.E();6 g.H(f)},1z:4(f){9 d=5.E();g.1z(f,d)}});a.v.27=e;a.v.A("27")})(z);(4(a){9 k=a.B.26,g=a.s.1e,e=a.s.1f,f=4(d){u(a.x.1d(d,g)){9 c=d;d=c.E()}14 c=e.N(d);k.L(5,d);5.28=c;5.29=7};a.P(f,k,[e],7);f.8.M=4(){6 5.29};f.8.2j=4(d){5.29=d};f.8.N=4(){6 5.28};f.8.O=4(){6 5.N().O()};f.8.K=4(){6 5.N().K()};f.8.C=4(){6 5.N().C()};f.8.F=4(){6 5.N().F()};f.8.H=4(){6 5.N().C()};a.v.1G=f;a.v.A("1G")})(z);(4(a){9 k=a.s.1f,g=a.s.1g,e=a.s.13,f=a.v.1G,d=4(){u(1===D.X){9 b=D[0];9 h=k.N(b);9 l=g.11(b)}14 u(2===D.X)h=D[0],l=D[1],b=h.E(),b.12=l.E();14 S w 2F("2J D 2G: "+D);f.L(5,b);5.28=h;5.2a=l};a.P(d,f,[g],{11:4(){6 5.2a},C:4(){9 b=5.11().C();b||(b=5.N().C());6 b},F:4(){6 5.11().F()},H:4(){6 5.11().H()},2k:4(b,h){u(h&&0<h.X){9 l=5.M(),m=c.L(5,b);u(b=l.1T(b,5)){2K(9 n={},p=0,q,t,r=0;r<h.X;++r)u(q=h[r],t=l.1U(b,q,5))n[q]=l.1V(t,5),++p;0<p&&(m.1r=n)}h=e.y(m);6 h}h=5.M();l=c.L(5,b);(m=h.1T(b,5))?(m=h.1U(m,5.K(),5))?(l.T=h.1V(m,5),h=e.y(l)):h=7:h=e.y(l);6 h}});9 c=4(b){9 h=5.M(),l=h.2l(5.2a,b,5);l=h.2m(l,b,5);b=h.2n(l,5);h=5.15();I h.12;h.17=b;6 h};a.v.2b=d;a.v.A("2b")})(z);(4(a){9 k=a.B.3m,g=a.s.1g,e=a.s.13,f=a.s.1q,d=a.v.1G,c=4(b){d.L(5,b);5.1H=5.1I=5.1J=7};a.P(c,d,[e],{1o:4(){u(!5.1J){9 b=5.1K("17");5.1J=5.M().2u(b,5)}6 5.1J},1Y:4(){u(!5.1I){9 b=5.1K("T");u(!b){9 h=5.1p();h&&(b=5.K(),b=h[b.J()])}b&&(5.1I=5.M().2r(b,5))}6 5.1I},1p:4(){5.1H||(5.1H=5.1K("1r"));6 5.1H},1A:4(){9 b=5.O(),h=5.F();9 l=h?h:5.K();h=5.M();9 m=5.1Y();u(m&&(m=h.2s(m,b,l,5),!m))S 19("1a 1b 1A T 3n 2L: "+5);9 n=h.2t(m,b,l,5);u(!n)S 19("1a 1b 3o 2L T: "+b+" -> "+l+", "+m);b=5.1o();u(!b)S 19("1a 1b 2c 12 17: "+5);b=h.2v(b,n,5);u(!b)S 19("1a 1b 1A 17 3p T: "+n);h=h.2w(b,n,5);u(!h)S 19("1a 1b 3q 12: "+b);b=5.15(!1);I b.T;I b.1r;I b.17;b.12=h.E();6 g.y(b)},2o:4(){9 b=5.M(),h=b.2x(5.1o(),5.O(),5);b=b.2y(h,5);h=5.15(!1);h.1h=b;6 f.y(h)},2p:4(b){9 h=5.15(!1),l=5.1p();l?I h.1r:l={};h.W=5.K().J();2K(9 m=[],n,p=0;p<b.X;++p)n=b[p].J(),h.1m=n,(n=l[n])?h.T=n:I h.T,(n=e.y(k.15(h)))&&m.3r(n);6 m},2q:4(b){9 h=5.15(!1),l=5.1p();l&&((l=l[b.J()])&&(h.T=l),I h.1r);5.F()||(h.W=5.K().J());h.1m=b.J();6 e.y(h)}});a.v.1L=c;a.v.A("1L")})(z);(4(a){9 k=a.s.13,g=a.s.1q,e=a.v.1L,f=4(d){e.L(5,d);5.1s=5.1t=5.1M=7};a.P(f,e,[g],{21:4(){u(!5.1M){9 d=5.1K("1h");5.1M=5.M().2A(d,5)}6 5.1M},1C:4(d){9 c=5.E();g.1C(d,c);5.1t=d},1B:4(){u(!5.1t){9 d=5.E();5.1t=g.1B(d)}6 5.1t},1E:4(d){9 c=5.E();g.1E(d,c);5.1s=d},1D:4(){u(!5.1s){9 d=5.E();5.1s=g.1D(d)}6 5.1s},2z:4(){9 d=5.1o();u(!d)S 19("1a 1b 2c 12 17: "+5);9 c=5.21();u(!c)S 19("1a 1b 2c 2J 1h: "+5);6 5.M().2B(d,c,5.O(),5)?(d=5.15(!1),I d.1h,k.y(d)):7}});a.v.1N=f;a.v.A("1N")})(z);(4(a){9 k=a.s.1e,g=a.v.27,e=4(){Y.L(5)};a.P(e,Y,[k.Q],7);e.8.1R=4(f,d,c){c||(c=w Z);6 w g(f,d,c)};e.8.1S=4(f){6 f.1l?w g(f):7};k.R(w e);a.v.2M=e;a.v.A("2M")})(z);(4(a){9 k=a.s.1g,g=a.v.2b,e=4(){Y.L(5)};a.P(e,Y,[k.Q],7);e.8.1n=4(f,d){f=2N.3s(3t*2N.3u());6 0<f?f:0>f?-f:3v};e.8.1W=4(f,d){6 w g(f,d)};e.8.1X=4(f){6 w g(f)};k.R(w e);a.v.2O=e;a.v.A("2O")})(z);(4(a){9 k=a.s.13,g=a.v.1L,e=a.v.1N,f=4(){Y.L(5)};a.P(f,Y,[k.Q],7);f.8.1Z=4(d){6 d.1h?w e(d):w g(d)};k.R(w f);a.v.2P=f;a.v.A("2P")})(z);(4(a){9 k=a.s.1q,g=a.v.1N,e=4(){Y.L(5)};a.P(e,Y,[k.Q],7);e.8.25=4(f){6 f.1l&&f.17&&f.1h?w g(f):7};k.R(w e);a.v.2Q=e;a.v.A("2Q")})(z);',62,218,'||||function|this|return|null|prototype|var|||||||||assert|implement|||||me||||protocol||if|dkd|new|Interface|parse|DaoKeDao|registers|type|getTime|arguments|toMap|getGroup|getFactory|getType|delete|toString|getReceiver|call|getDelegate|getEnvelope|getSender|Class|Factory|setFactory|throw|key|typeof|setGroup|group|length|Object|Date|Delegate|getContent|content|SecureMessage|else|copyMap||data||Error|failed|to|1E3|conforms|Envelope|Message|InstantMessage|signature|time|Wrapper|fetchMap|sender|receiver|generateSerialNumber|getData|getEncryptedKeys|ReliableMessage|keys|__visa|__meta|ContentType|getSerialNumber|number|valueOf|Content|setType|decrypt|getMeta|setMeta|getVisa|setVisa|__time|BaseMessage|__keys|__key|__data|getValue|EncryptedMessage|__signature|NetworkMessage|object|Namespace|Mapper|createEnvelope|parseEnvelope|serializeKey|encryptKey|encodeKey|createInstantMessage|parseInstantMessage|getEncryptedKey|parseSecureMessage||getSignature||meta|visa|parseReliableMessage|Dictionary|MessageEnvelope|__envelope|__delegate|__content|PlainMessage|decode|MingKeMing|ID|sn|parseContent|instanceof|create|setDelegate|encrypt|serializeContent|encryptContent|encodeData|sign|split|trim|decodeKey|decryptKey|deserializeKey|decodeData|decryptContent|deserializeContent|signData|encodeSignature|verify|decodeSignature|verifyDataSignature|__type|__sn|BaseContent|SyntaxError|error|__sender|__receiver|message|for|msg|EnvelopeFactory|Math|InstantMessageFactory|SecureMessageFactory|ReliableMessageFactory|exports|console|Enum|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|QUOTE|55||MONEY|64|TRANSFER|65|LUCKY_MONEY|66|CLAIM_PAYMENT|72|SPLIT_BILL|73|COMMAND|136|HISTORY|137|FORWARD|255|Meta|Document|envelope|Copier|in|get|with|deserialize|push|ceil|4294967295|random|18921'.split('|'),0,{}));
