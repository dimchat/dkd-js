/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Mar. 10, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b(1a F!=="1z"){F={}}!9(8){1A.25(8);b(1a 8.N!=="1z"){8.N={}}1A.26(8.N);8.A("N")}(F);!9(8){6 o=8.c.27(e,{28:(0),29:(1),2a:(16),2b:(18),2c:(20),2d:(22),2e:(2f),2g:(2h),2i:(2j),2k:(2l),2m:(2n),2o:(2p),2q:(2r),2s:(2t),2u:(2v),1g:(2w)});8.N.o=o;8.N.A("o")}(F);!9(8){6 G=8.c.G;6 o=8.N.o;6 1B=2x;6 1C=9(){6 T=1h.1s(1h.2y()*1B);b(T>0){a T}l{b(T<0){a-T}}a 2z+2A};6 h=9(u){b((1a u==="2B")||u v o){u={"c":u,"T":1C()}}G.X(5,u);6 c=u["c"];b(c v o){c=c.1b()}5.c=c;5.T=u["T"]};8.Y(h,G,e);h.d.1c=9(){a 5.Q("B")};h.d.1D=9(1i){5.15("B",1i)};6 1t={};h.A=9(c,R){6 1j;b(c v o){1j=c.1b()}l{1j=c}1t[1j]=R};h.w=9(j){b(!j){a e}l{b(j v h){a j}}6 c=j["c"];b(c v o){c=c.1b()}6 R=1t[c];b(1a R==="9"){a h.1E(R,j)}a q h(j)};h.1E=9(R,1u){b(1a R.w==="9"){a R.w(1u)}l{a q R(1u)}};8.h=h;8.A("h")}(F);!9(8){6 G=8.c.G;6 o=8.N.o;6 m=9(t){G.X(5,t);5.k=t["k"];5.f=t["f"];5.z=t["z"]};8.Y(m,G,e);m.2C=9(k,f,z){6 t={"k":k,"f":f};b(!z){z=q 1F();t["z"]=1h.1s(z.1G()/1H)}l{b(z v 1F){t["z"]=1h.1s(z.1G()/1H)}l{t["z"]=z}}a q m(t)};m.w=9(t){b(!t){a e}l{b(t v m){a t}}a q m(t)};m.d.1c=9(){a 5.Q("B")};m.d.1D=9(1i){5.15("B",1i)};m.d.2D=9(){6 c=5.Q("c");b(c v o){a c.1b()}l{a c}};m.d.2E=9(c){b(c v o){5.15("c",c.1b())}l{5.15("c",c)}};8.m=m;8.A("m")}(F);!9(8){6 1k=9(){};8.1l(1k,e);6 S=9(){};8.1l(S,[1k]);S.d.1I=9(j,1v,1m){H.I(D,"J K!");a e};S.d.1J=9(x,1m){H.I(D,"J K!");a e};S.d.1w=9(1v,f,1m){H.I(D,"J K!");a e};S.d.1x=9(r,1m){H.I(D,"J K!");a e};6 L=9(){};8.1l(L,[1k]);L.d.1K=9(r,17){H.I(D,"J K!");a e};L.d.1y=9(r,k,f,17){H.I(D,"J K!");a e};L.d.1L=9(x,17){H.I(D,"J K!");a e};L.d.1M=9(x,1v,17){H.I(D,"J K!");a e};L.d.1N=9(x,k,17){H.I(D,"J K!");a e};L.d.1O=9(M,17){H.I(D,"J K!");a e};6 Z=9(){};8.1l(Z,[L]);Z.d.1P=9(M,1Q){H.I(D,"J K!");a e};Z.d.1R=9(x,M,k,1Q){H.I(D,"J K!");a D};8.S=S;8.L=L;8.Z=Z;8.A("S");8.A("L");8.A("Z")}(F);!9(8){6 G=8.c.G;6 m=8.m;6 n=9(7){G.X(5,7);5.O=m.w(7);5.y=e};8.Y(n,G,e);n.w=9(7){b(!7){a e}b(7.1d("j")){a 8.E.w(7)}b(7.1d("M")){a 8.p.w(7)}b(7.1d("x")){a 8.g.w(7)}b(7 v n){a 7}a q n(7)};8.n=n;8.A("n")}(F);!9(8){6 m=8.m;6 h=8.h;6 n=8.n;6 E=9(7){n.X(5,7);5.j=h.w(7["j"])};8.Y(E,n,e);E.2F=9(j,1S){6 7;6 1e=19.1f;b(1e===2){6 t=m.w(1S);7=t.10(11)}l{b(1e===3||1e===4){6 k=19[1];6 f=19[2];6 z=(1e===4)?19[3]:0;7={"k":k,"f":f,"z":z}}l{1T 1U("2G 1V 19 2H: "+19)}}7["j"]=j;a q E(7)};E.w=9(7){b(!7){a e}b(7 v E){a 7}a q E(7)};E.d.2I=9(U,V){6 7=5.10(11);6 x=5.y.1I(5.j,U,5);7["x"]=5.y.1J(x,5);12 7["j"];6 r;b(V&&V.1f>0){6 s={};6 13;1W(6 i=0;i<V.1f;++i){13=V[i];r=5.y.1w(U,13,5);b(r){s[13]=5.y.1x(r,5)}}b(s.1f>0){7["s"]=s}7["B"]=5.j.1c()}l{6 f=5.O.f;r=5.y.1w(U,f,5);b(r){7["r"]=5.y.1x(r,5)}}a q 8.g(7)};8.E=E;8.A("E")}(F);!9(8){6 n=8.n;6 g=9(7){n.X(5,7)};8.Y(g,n,e);g.d.1n=9(){6 C=5.Q("x");a 5.y.1L(C,5)};g.d.1X=9(){6 C=5.Q("r");b(!C){6 s=5.1o();b(s){C=s[5.O.f]}}b(C){a 5.y.1K(C,5)}l{a e}};g.d.1o=9(){a 5.Q("s")};g.w=9(7){b(!7){a e}b(7.1d("M")){a 8.p.w(7)}b(7 v g){a 7}a q g(7)};g.d.1Y=9(){6 k=5.O.k;6 f=5.O.f;6 B=5.O.1c();6 r=5.1X();6 U;b(B){U=5.y.1y(r,k,B,5)}l{U=5.y.1y(r,k,f,5)}6 x=5.1n();6 j=5.y.1M(x,U,5);b(!j){1T 1U("2J 2K 1Y 1V x: "+5)}6 7=5.10(11);12 7["r"];12 7["s"];12 7["x"];7["j"]=j;a q 8.E(7)};g.d.2L=9(){6 k=5.O.k;6 M=5.y.1N(5.1n(),k,5);6 C=5.y.1O(M,5);6 7=5.10(11);7["M"]=C;a q 8.p(7)};g.d.2M=9(V){6 1p=5 v 8.p;6 s=5.1o();6 B=5.O.f;6 1q=[];6 7;6 f;1W(6 i=0;i<V.1f;++i){f=V[i];7=5.10(11);7["f"]=f;7["B"]=B;b(s){12 7["s"];7["r"]=s[f]}b(1p){1q.1Z(q 8.p(7))}l{1q.1Z(q g(7))}}a 1q};g.d.2N=9(13){6 7=5.10(11);7["f"]=13;6 s=5.1o();b(s){6 C=s[13];b(C){7["r"]=C}12 7["s"]}6 B=5.O.1c();b(!B){7["B"]=5.O.f}6 1p=5 v 8.p;b(1p){a q 8.p(7)}l{a q g(7)}};8.g=g;8.A("g")}(F);!9(8){6 g=8.g;6 p=9(7){g.X(5,7)};8.Y(p,g,e);p.d.21=9(){6 C=5.Q("M");a 5.y.1P(C,5)};p.d.2O=9(1r){5.15("1r",1r)};p.d.2P=9(){a 5.Q("1r")};p.w=9(7){b(!7){a e}b(7 v p){a 7}a q p(7)};p.d.2Q=9(){6 k=5.O.k;6 x=5.1n();6 M=5.21();b(5.y.1R(x,M,k,5)){6 7=5.10(11);12 7["M"];a q g(7)}l{a e}};8.p=p;8.A("p")}(F);!9(8){6 o=8.N.o;6 h=8.h;6 n=8.n;6 W=9(u){6 14=e;b(!u){u=o.1g}l{b(u v n){14=u;u=o.1g}}h.X(5,u);b(14){5.23(14)}l{b(u.1d("P")){5.24()}l{5.P=e}}};8.Y(W,h,e);W.d.24=9(){b(!5.P){6 P=5.Q("P");5.P=n.w(P)}a 5.P};W.d.23=9(14){5.15("P",14);5.P=14};h.A(o.1g,W);8.N.W=W;8.N.A("W")}(F);',62,177,'|||||this|var|msg|ns|function|return|if|type|prototype|null|receiver|SecureMessage|Content||content|sender|else|Envelope|Message|ContentType|ReliableMessage|new|key|keys|env|info|instanceof|getInstance|data|delegate|time|register|group|base64|false|InstantMessage|DaoKeDao|Dictionary|console|assert|implement|me|SecureMessageDelegate|signature|protocol|envelope|forward|getValue|clazz|InstantMessageDelegate|sn|password|members|ForwardContent|call|Class|ReliableMessageDelegate|getMap|true|delete|member|secret|setValue||sMsg||arguments|typeof|valueOf|getGroup|hasOwnProperty|count|length|FORWARD|Math|identifier|value|MessageDelegate|Interface|iMsg|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|pwd|encryptKey|encodeKey|decryptKey|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|createInstance|Date|getTime|1000|encryptContent|encodeData|decodeKey|decodeData|decryptContent|signData|encodeSignature|decodeSignature|rMsg|verifyDataSignature|heads|throw|Error|message|for|getKey|decrypt|push||getSignature||setMessage|getMessage|exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|TRANSFER|65|LUCKY_MONEY|66|CLAIM_PAYMENT|72|SPLIT_BILL|73|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|newMessage|instant|error|encrypt|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
