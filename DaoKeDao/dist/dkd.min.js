/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Jan. 28, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('c(1a J!=="1y"){J={}}!9(8){1z.23(8);c(1a 8.O!=="1y"){8.O={}}1z.24(8.O);8.C("O")}(J);!9(8){7 v=8.m.25({26:(0),27:(1),28:(16),29:(18),2a:(20),2b:(22),2c:(2d),2e:(2f),2g:(2h),2i:(2j),2k:(2l),1g:(2m)});8.O.v=v;8.O.C("v")}(J);!9(8){7 K=8.m.K;7 v=8.O.v;7 1A=2n;7 1B=9(){7 U=1h.1r(1h.2o()*1A);c(U>0){b U}t{c(U<0){b-U}}b 2p+2q};7 p=9(y){c((1a y==="2r")||y G v){y={"m":y,"U":1B()}}K.Y(6,y);6.m=q v(y["m"]);6.U=y["U"]};8.Z(p,K,a);p.f.1b=9(){b 6.R("D")};p.f.1C=9(1i){6.1c("D",1i)};7 1s={};p.C=9(m,S){7 1j;c(m G v){1j=m.1D()}t{1j=m}1s[1j]=S};p.z=9(o){c(!o){b a}t{c(o G p){b o}}7 m=o["m"];c(m G v){m=m.1D()}7 S=1s[m];c(1a S==="9"){b p.1E(S,o)}b q p(o)};p.1E=9(S,1t){c(1a S.z==="9"){b S.z(1t)}t{b q S(1t)}};8.p=p;8.C("p")}(J);!9(8){7 K=8.m.K;7 v=8.O.v;7 r=9(x){K.Y(6,x);6.l=x["l"];6.h=x["h"];6.B=x["B"]};8.Z(r,K,a);r.2s=9(l,h,B){7 x={"l":l,"h":h};c(!B){B=q 1F();x["B"]=1h.1r(B.1G()/1H)}t{c(B G 1F){x["B"]=1h.1r(B.1G()/1H)}t{x["B"]=B}}b q r(x)};r.z=9(x){c(!x){b a}t{c(x G r){b x}}b q r(x)};r.f.1b=9(){b 6.R("D")};r.f.1C=9(1i){6.1c("D",1i)};r.f.2t=9(){7 m=6.R("m");c(m){b q v(m)}t{b a}};r.f.2u=9(m){6.1c("m",m)};8.r=r;8.C("r")}(J);!9(8){7 1k=9(){};8.1l(1k,a);7 T=9(){};8.1l(T,1k);T.f.1I=9(o,17,5){d.e(o!==a,"o g");d.e(17!==a,"j g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};T.f.1J=9(k,5){d.e(k!==a,"5 k g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};T.f.1u=9(17,h,5){d.e(17!==a,"j g");d.e(h!==a,"h g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};T.f.1v=9(j,5){d.e(j!==a,"j k g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};7 N=9(){};8.1l(N,1k);N.f.1K=9(j,5){d.e(j!==a,"j 2v g");d.e(5!==a,"2w 1w g");d.e(H,"L M!");b a};N.f.1x=9(j,l,h,5){d.e(j!==a,"j k g");d.e(l!==a,"l g");d.e(h!==a,"h g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};N.f.1L=9(k,5){d.e(k!==a,"5 k g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};N.f.1M=9(k,17,5){d.e(k!==a,"5 k g");d.e(17!==a,"j g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};N.f.1N=9(k,l,5){d.e(k!==a,"5 k g");d.e(l!==a,"l g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};N.f.1O=9(E,5){d.e(E!==a,"5 E g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};7 10=9(){};8.1l(10,N);10.f.1P=9(E,5){d.e(5!==a,"5 g");d.e(5!==a,"5 g");d.e(H,"L M!");b a};10.f.1Q=9(k,E,l,5){d.e(5!==a,"5 g");d.e(5!==a,"5 g");d.e(5!==a,"5 g");d.e(5!==a,"5 g");d.e(H,"L M!");b H};8.T=T;8.N=N;8.10=10;8.C("T");8.C("N");8.C("10")}(J);!9(8){7 K=8.m.K;7 r=8.r;7 s=9(5){K.Y(6,5);6.P=r.z(5);6.A=a};8.Z(s,K,a);s.z=9(5){c(!5){b a}c(5.1d("o")){b 8.I.z(5)}c(5.1d("E")){b 8.u.z(5)}c(5.1d("k")){b 8.n.z(5)}c(5 G s){b 5}b q s(5)};8.s=s;8.C("s")}(J);!9(8){7 r=8.r;7 p=8.p;7 s=8.s;7 I=9(5){s.Y(6,5);6.o=p.z(5["o"])};8.Z(I,s,a);I.2x=9(o,1R){7 5;7 1e=19.1f;c(1e===2){7 x=r.z(1R);5=x.11(12)}t{c(1e===3||1e===4){7 l=19[1];7 h=19[2];7 B=(1e===4)?19[3]:0;5={"l":l,"h":h,"B":B}}t{1S 1T("2y 1w 19 2z: "+19)}}5["o"]=o;b q I(5)};I.z=9(5){c(!5){b a}c(5 G I){b 5}b q I(5)};I.f.2A=9(V,W){7 5=6.11(12);7 k=6.A.1I(6.o,V,6);5["k"]=6.A.1J(k,6);13 5["o"];7 j;c(W&&W.1f>0){7 w={};7 14;1U(7 i=0;i<W.1f;++i){14=W[i];j=6.A.1u(V,14,6);c(j){w[14]=6.A.1v(j,6)}}c(w.1f>0){5["w"]=w}5["D"]=6.o.1b()}t{7 h=6.P.h;j=6.A.1u(V,h,6);c(j){5["j"]=6.A.1v(j,6)}}b q 8.n(5)};8.I=I;8.C("I")}(J);!9(8){7 s=8.s;7 n=9(5){s.Y(6,5)};8.Z(n,s,a);n.f.1m=9(){7 F=6.R("k");b 6.A.1L(F,6)};n.f.1V=9(){7 F=6.R("j");c(!F){7 w=6.1n();c(w){F=w[6.P.h]}}c(F){b 6.A.1K(F,6)}t{b a}};n.f.1n=9(){b 6.R("w")};n.z=9(5){c(!5){b a}c(5.1d("E")){b 8.u.z(5)}c(5 G n){b 5}b q n(5)};n.f.1W=9(){7 l=6.P.l;7 h=6.P.h;7 D=6.P.1b();7 j=6.1V();7 V;c(D){V=6.A.1x(j,l,D,6)}t{V=6.A.1x(j,l,h,6)}7 k=6.1m();7 o=6.A.1M(k,V,6);c(!o){1S 1T("2B 2C 1W 1w k: "+6)}7 5=6.11(12);13 5["j"];13 5["w"];13 5["k"];5["o"]=o;b q 8.I(5)};n.f.2D=9(){7 l=6.P.l;7 E=6.A.1N(6.1m(),l,6);7 F=6.A.1O(E,6);7 5=6.11(12);5["E"]=F;b q 8.u(5)};n.f.2E=9(W){7 1o=6 G 8.u;7 w=6.1n();7 D=6.P.h;7 1p=[];7 5;7 h;1U(7 i=0;i<W.1f;++i){h=W[i];5=6.11(12);5["h"]=h;5["D"]=D;c(w){13 5["w"];5["j"]=w[h]}c(1o){1p.1X(q 8.u(5))}t{1p.1X(q n(5))}}b 1p};n.f.2F=9(14){7 5=6.11(12);5["h"]=14;7 w=6.1n();c(w){7 F=w[14];c(F){5["j"]=F}13 5["w"]}7 D=6.P.1b();c(!D){5["D"]=6.P.h}7 1o=6 G 8.u;c(1o){b q 8.u(5)}t{b q n(5)}};8.n=n;8.C("n")}(J);!9(8){7 n=8.n;7 u=9(5){n.Y(6,5)};8.Z(u,n,a);u.f.1Y=9(){7 F=6.R("E");b 6.A.1P(F,6)};u.f.2G=9(1q){6.1c("1q",1q)};u.f.2H=9(){b 6.R("1q")};u.z=9(5){c(!5){b a}c(5 G u){b 5}b q u(5)};u.f.2I=9(){7 l=6.P.l;7 k=6.1m();7 E=6.1Y();c(6.A.1Q(k,E,l,6)){7 5=6.11(12);13 5["E"];b q n(5)}t{b a}};8.u=u;8.C("u")}(J);!9(8){7 v=8.O.v;7 p=8.p;7 s=8.s;7 X=9(y){7 15=a;c(!y){y=v.1g}t{c(y G s){15=y;y=v.1g}}p.Y(6,y);c(15){6.1Z(15)}t{c(y.1d("Q")){6.21()}t{6.Q=a}}};8.Z(X,p,a);X.f.21=9(){c(!6.Q){7 Q=6.R("Q");6.Q=s.z(Q)}b 6.Q};X.f.1Z=9(15){6.1c("Q",15);6.Q=15};p.C(v.1g,X);8.O.X=X;8.O.C("X")}(J);',62,169,'|||||msg|this|var|ns|function|null|return|if|console|assert|prototype|empty|receiver||key|data|sender|type|SecureMessage|content|Content|new|Envelope|Message|else|ReliableMessage|ContentType|keys|env|info|getInstance|delegate|time|register|group|signature|base64|instanceof|false|InstantMessage|DaoKeDao|Dictionary|implement|me|SecureMessageDelegate|protocol|envelope|forward|getValue|clazz|InstantMessageDelegate|sn|password|members|ForwardContent|call|Class|ReliableMessageDelegate|getMap|true|delete|member|secret||pwd||arguments|typeof|getGroup|setValue|hasOwnProperty|count|length|FORWARD|Math|identifier|value|MessageDelegate|Interface|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|encryptKey|encodeKey|message|decryptKey|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|valueOf|createInstance|Date|getTime|1000|encryptContent|encodeData|decodeKey|decodeData|decryptContent|signData|encodeSignature|decodeSignature|verifyDataSignature|heads|throw|Error|for|getKey|decrypt|push|getSignature|setMessage||getMessage||exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|string|secure|newMessage|instant|error|encrypt|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
