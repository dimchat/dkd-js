/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Jan. 28, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!4(a){3 b=a.E.1E({1F:(0),1G:(1),1H:(16),1I:(18),1J:(20),1K:(22),1L:(1M),1N:(1O),1P:(1Q),1R:(1S),1T:(1U),14:(1V),});9(V a.M!=="1W"){a.M={}}a.M.W=b}(G);!4(d){3 e=d.E.15;3 f=d.M.W;3 g=1X;3 h=4(){3 a=X.17(X.1Y()*g);9(a>0){5 a}v{9(a<0){5-a}}5 1Z+21};3 i=4(a){9((V a==="23")||a A f){a={"E":a,"19":h(),}}e.I(2,a);2.E=r f(a["E"]);2.19=a["19"]};i.F(e);i.q.R=4(){5 2.J("N")};i.q.1g=4(a){2.S("N",a)};3 j={};i.1h=4(a,b){j[a]=b};i.u=4(a){9(!a){5 6}v{9(a A i){5 a}}3 b=a["E"];3 c=j[b];9(V c==="4"){5 i.1i(c,a)}5 r i(a)};i.1i=4(a,b){9(V a.u==="4"){5 a.u(b)}v{5 r a(b)}};d.1a=i}(G);!4(e){3 f=e.E.15;3 g=e.M.W;3 h=4(a){f.I(2,a);2.K=a["K"];2.x=a["x"];2.T=a["T"]};h.F(f);h.1j=4(a,b,c){3 d={"K":a,"x":b,};9(!c){c=r 1k();d["T"]=X.17(c.1l()/1m)}v{9(c A 1k){d["T"]=X.17(c.1l()/1m)}v{d["T"]=c}}5 r h(d)};h.u=4(a){9(!a){5 6}v{9(a A h){5 a}}5 r h(a)};h.q.R=4(){5 2.J("N")};h.q.1g=4(a){2.S("N",a)};h.q.24=4(){3 a=2.J("E");9(a){5 r g(a)}v{5 6}};h.q.25=4(a){2.S("E",a)};e.1b=h}(G);!4(e){3 f=4(){};3 g=4(){};g.F(f);g.q.1n=4(a,b,c){7.8(a!==6,"H p");7.8(b!==6,"B p");7.8(c!==6,"s p");7.8(w,"y z!");5 6};g.q.1o=4(a,b){7.8(a!==6,"s C p");7.8(b!==6,"s p");7.8(w,"y z!");5 6};g.q.1c=4(a,b,c){7.8(a!==6,"B p");7.8(b!==6,"x p");7.8(c!==6,"s p");7.8(w,"y z!");5 6};g.q.1d=4(a,b){7.8(a!==6,"B C p");7.8(b!==6,"s p");7.8(w,"y z!");5 6};3 h=4(){};h.F(f);h.q.1p=4(a,b){7.8(a!==6,"B 26 p");7.8(b!==6,"27 1q p");7.8(w,"y z!");5 6};h.q.1e=4(a,b,c,d){7.8(a!==6,"B C p");7.8(b!==6,"K p");7.8(c!==6,"x p");7.8(d!==6,"s p");7.8(w,"y z!");5 6};h.q.1r=4(a,b){7.8(a!==6,"s C p");7.8(b!==6,"s p");7.8(w,"y z!");5 6};h.q.1s=4(a,b,c){7.8(a!==6,"s C p");7.8(b!==6,"B p");7.8(c!==6,"s p");7.8(w,"y z!");5 6};h.q.1t=4(a,b,c){7.8(a!==6,"s C p");7.8(b!==6,"K p");7.8(c!==6,"s p");7.8(w,"y z!");5 6};h.q.1u=4(a,b){7.8(a!==6,"s P p");7.8(b!==6,"s p");7.8(w,"y z!");5 6};3 i=4(){};i.F(h);i.q.1v=4(a,b){7.8(b!==6,"s p");7.8(b!==6,"s p");7.8(w,"y z!");5 6};i.q.1w=4(a,b,c,d){7.8(d!==6,"s p");7.8(d!==6,"s p");7.8(d!==6,"s p");7.8(d!==6,"s p");7.8(w,"y z!");5 w};e.28=g;e.29=h;e.2a=i}(G);!4(b){3 c=b.E.15;3 d=b.1b;3 e=4(a){c.I(2,a);2.D=d.u(a);2.t=6};e.F(c);e.u=4(a){9(!a){5 6}9(a.Y("H")){5 b.1f.u(a)}9(a.Y("P")){5 b.L.u(a)}9(a.Y("C")){5 b.Z.u(a)}9(a A e){5 a}5 r e(a)};b.10=e}(G);!4(j){3 k=j.1b;3 l=j.1a;3 m=j.10;3 n=j.Z;3 o=4(a){m.I(2,a);2.H=l.u(a["H"])};o.F(m);o.2b=4(a,b,c,d){3 e=k.1j(b,c,d);3 f=e.O();f["H"]=a;5 r o(f)};o.u=4(a){9(!a){5 6}9(a A o){5 a}5 r o(a)};o.q.2c=4(a,b){3 c=2.O(Q);3 d=2.t.1n(2.H,a,2);c["C"]=2.t.1o(d,2);c["H"]=6;3 e;9(b&&b.11>0){3 f={};3 g;1x(3 i=0;i<b.11;++i){g=b[i];e=2.t.1c(a,g,2);9(e){f[g]=2.t.1d(e,2)}}9(f.11>0){c["U"]=f}c["N"]=2.H.R()}v{3 h=2.D.x;e=2.t.1c(a,h,2);9(e){c["B"]=2.t.1d(e,2)}}5 r n(c)};j.1f=o}(G);!4(j){3 k=j.10;3 l=4(a){k.I(2,a)};l.F(k);l.q.12=4(){3 a=2.J("C");5 2.t.1r(a,2)};l.q.1y=4(){3 a=2.J("B");9(!a){3 b=2.13();9(b){a=b[2.D.x]}}9(a){5 2.t.1p(a,2)}v{5 6}};l.q.13=4(){5 2.J("U")};l.u=4(a){9(!a){5 6}9(a.Y("P")){5 j.L.u(a)}9(a A l){5 a}5 r l(a)};l.q.1z=4(){3 a=2.D.K;3 b=2.D.x;3 c=2.D.R();3 d=2.1y();3 e;9(c){e=2.t.1e(d,a,c,2)}v{e=2.t.1e(d,a,b,2)}3 f=2.12();3 g=2.t.1s(f,e,2);9(!g){2d 2e("2f 2g 1z 1q C: "+2)}3 h=2.O(Q);h["B"]=6;h["U"]=6;h["C"]=6;h["H"]=g;5 r j.1f(h)};l.q.2h=4(){3 a=2.D.K;3 b=2.t.1t(2.12(),a,2);3 c=2.t.1u(b,2);3 d=2.O(Q);d["P"]=c;5 r j.L(d)};l.q.2i=4(a){3 b=2 A j.L;3 c=2.13();3 d=2.D.x;3 e=[];3 f;3 g;1x(3 i=0;i<a.11;++i){g=a[i];f=2.O(Q);f["x"]=g;f["N"]=d;9(c){f["U"]=6;f["B"]=c[g]}9(b){e.1A(r j.L(f))}v{e.1A(r l(f))}}5 e};l.q.2j=4(a){3 b=2.O(Q);b["x"]=a;3 c=2.13();9(c){3 d=c[a];9(d){b["B"]=d}b["U"]=6}3 e=2.D.R();9(!e){b["N"]=2.D.x}3 f=2 A j.L;9(f){5 r j.L(b)}v{5 r l(b)}};j.Z=l}(G);!4(e){3 f=e.Z;3 g=4(a){f.I(2,a)};g.F(f);g.q.1B=4(){3 a=2.J("P");5 2.t.1v(a,2)};g.q.2k=4(a){2.S("1C",a)};g.q.2l=4(){5 2.J("1C")};g.u=4(a){9(!a){5 6}9(a A g){5 a}5 r g(a)};f.q.2m=4(){3 a=2.D.K;3 b=2.12();3 c=2.1B();9(2.t.1w(b,c,a,2)){3 d=2.O(Q);d["P"]=6;5 r f(d)}v{5 6}};e.L=g}(G);!4(c){3 d=c.M.W;3 e=c.1a;3 f=c.10;3 g=4(a){3 b;9(a A f){e.I(2,d.14);b=a;2.S("1D",b)}v{e.I(2,a);b=f.u(a["1D"])}2.2n=b};g.F(e);e.1h(d.14,g);c.M.2o=g}(G);',62,149,'||this|var|function|return|null|console|assert|if||||||||||||||||empty|prototype|new|msg|delegate|getInstance|else|false|receiver|implement|me|instanceof|key|data|envelope|type|inherits|DIMP|content|call|getValue|sender|ReliableMessage|protocol|group|getMap|signature|true|getGroup|setValue|time|keys|typeof|ContentType|Math|hasOwnProperty|SecureMessage|Message|length|getData|getKeys|FORWARD|Dictionary||ceil||sn|Content|Envelope|encryptKey|encodeKey|decryptKey|InstantMessage|setGroup|register|createInstance|newEnvelope|Date|getTime|1000|encryptContent|encodeData|decodeKey|message|decodeData|decryptContent|signData|encodeSignature|decodeSignature|verifyDataSignature|for|getKey|decrypt|push|getSignature|meta|forward|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|COMMAND|136|HISTORY|137|255|object|4294967295|random|9527||9394||number|getType|setType|string|secure|InstantMessageDelegate|SecureMessageDelegate|ReliableMessageDelegate|newMessage|encrypt|throw|Error|failed|to|sign|split|trim|setMeta|getMeta|verify|forword|ForwardContent'.split('|'),0,{}))
