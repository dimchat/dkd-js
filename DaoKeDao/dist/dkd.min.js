/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Apr. 1, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b(1b L!=="1G"){L={}}!8(9){1H.2d(9);b(1b 9.O!=="1G"){9.O={}}1H.2e(9.O);9.H("O")}(L);!8(9){6 q=9.e.2f(d,{2g:(0),2h:(1),2i:(16),2j:(18),2k:(20),2l:(22),2m:(2n),2o:(2p),2q:(2r),2s:(2t),2u:(2v),2w:(2x),2y:(2z),2A:(2B),2C:(2D),1g:(2E)});9.O.q=q;9.O.H("q")}(L);!8(9){6 M=9.e.M;6 q=9.O.q;6 1I=2F;6 1J=8(){6 W=1h.1t(1h.2G()*1I);b(W>0){a W}l{b(W<0){a-W}}a 2H+2I};6 m=8(z){b((1b z==="2J")||z A q){z={"e":z,"W":1J()}}M.P(5,z);6 e=z["e"];b(e A q){e=e.1c()}5.e=e;5.W=z["W"]};9.Z(m,M,d);m.c.1i=8(){a 5.U("I")};m.c.1K=8(1j){5.17("I",1j)};6 1u={};m.H=8(e,V){6 1k;b(e A q){1k=e.1c()}l{1k=e}1u[1k]=V};m.B=8(o){b(!o){a d}l{b(o A m){a o}}6 e=o["e"];b(e A q){e=e.1c()}6 V=1u[e];b(1b V==="8"){a m.1L(V,o)}a r m(o)};m.1L=8(V,1v){b(1b V.B==="8"){a V.B(1v)}l{a r V(1v)}};9.m=m;9.H("m")}(L);!8(9){6 M=9.e.M;6 q=9.O.q;6 n=8(v){M.P(5,v);5.h=v["h"];5.g=v["g"];5.s=v["s"]};9.Z(n,M,d);n.c.1w=8(){6 s=5.s;b(s){a r 1x(s*1y)}l{a d}};n.2K=8(h,g,s){6 v={"h":h,"g":g};b(!s){s=r 1x();v["s"]=1h.1t(s.1w()/1y)}l{b(s A 1x){v["s"]=1h.1t(s.1w()/1y)}l{v["s"]=s}}a r n(v)};n.B=8(v){b(!v){a d}l{b(v A n){a v}}a r n(v)};n.c.1i=8(){a 5.U("I")};n.c.1K=8(1j){5.17("I",1j)};n.c.2L=8(){6 e=5.U("e");b(e A q){a e.1c()}l{a e}};n.c.2M=8(e){b(e A q){5.17("e",e.1c())}l{5.17("e",e)}};9.n=n;9.H("n")}(L);!8(9){6 1l=8(){};9.1m(1l,d);6 Q=8(){};9.1m(Q,[1l]);Q.c.1M=8(o,1d,19){C.D(w,"E F!");a d};Q.c.1N=8(f,1d,19){C.D(w,"E F!");a d};Q.c.1O=8(f,19){C.D(w,"E F!");a d};Q.c.1z=8(1d,19){C.D(w,"E F!");a d};Q.c.1A=8(f,g,19){C.D(w,"E F!");a d};Q.c.1B=8(f,19){C.D(w,"E F!");a d};6 J=8(){};9.1m(J,[1l]);J.c.1P=8(t,X){C.D(w,"E F!");a d};J.c.1C=8(f,h,g,X){C.D(w,"E F!");a d};J.c.1D=8(f,h,g,X){C.D(w,"E F!");a d};J.c.1Q=8(f,X){C.D(w,"E F!");a d};J.c.1R=8(f,1d,X){C.D(w,"E F!");a d};J.c.1S=8(f,1d,X){C.D(w,"E F!");a d};J.c.1T=8(f,h,X){C.D(w,"E F!");a d};J.c.1U=8(N,X){C.D(w,"E F!");a d};6 10=8(){};9.1m(10,[J]);10.c.1V=8(N,1W){C.D(w,"E F!");a d};10.c.1X=8(f,N,h,1W){C.D(w,"E F!");a w};9.Q=Q;9.J=J;9.10=10;9.H("Q");9.H("J");9.H("10")}(L);!8(9){6 M=9.e.M;6 n=9.n;6 p=8(7){M.P(5,7);5.R=n.B(7);5.k=d};9.Z(p,M,d);p.B=8(7){b(!7){a d}b(7.1e("o")){a 9.K.B(7)}b(7.1e("N")){a 9.u.B(7)}b(7.1e("f")){a 9.j.B(7)}b(7 A p){a 7}a r p(7)};9.p=p;9.H("p")}(L);!8(9){6 n=9.n;6 m=9.m;6 p=9.p;6 K=8(7){p.P(5,7);5.o=m.B(7["o"])};9.Z(K,p,d);K.2N=8(o,1Y){6 7;6 1f=1a.1n;b(1f===2){6 v=n.B(1Y);7=v.11(12)}l{b(1f===3||1f===4){6 h=1a[1];6 g=1a[2];6 s=(1f===4)?1a[3]:0;7={"h":h,"g":g,"s":s}}l{1Z 21("2O 23 1a 2P: "+1a)}}7["o"]=o;a r K(7)};K.B=8(7){b(!7){a d}b(7 A K){a 7}a r K(7)};K.c.2Q=8(x,S){6 7;b(S&&S.1n>0){7=24.P(5,x,S)}l{7=25.P(5,x)}a r 9.j(7)};6 25=8(x){6 7=1E.P(5,x);6 t=5.k.1z(x,5);b(t){6 g=5.R.g;6 f=5.k.1A(t,g,5);b(f){7["t"]=5.k.1B(f,5)}}a 7};6 24=8(x,S){6 7=1E.P(5,x);6 t=5.k.1z(x,5);b(t){6 y={};6 1F=0;6 13;6 f;26(6 i=0;i<S.1n;++i){13=S[i];f=5.k.1A(t,13,5);b(f){y[13]=5.k.1B(f,5);1F+=1}}b(1F>0){7["y"]=y}}a 7};6 1E=8(x){6 f=5.k.1M(5.o,x,5);f=5.k.1N(f,x,5);6 G=5.k.1O(f,5);6 7=5.11(12);14 7["o"];7["f"]=G;a 7};9.K=K;9.H("K")}(L);!8(9){6 p=9.p;6 j=8(7){p.P(5,7)};9.Z(j,p,d);j.c.1o=8(){6 G=5.U("f");a 5.k.1Q(G,5)};j.c.27=8(){6 G=5.U("t");b(!G){6 y=5.1p();b(y){G=y[5.R.g]}}b(G){a 5.k.1P(G,5)}l{a d}};j.c.1p=8(){a 5.U("y")};j.B=8(7){b(!7){a d}b(7.1e("N")){a 9.u.B(7)}b(7 A j){a 7}a r j(7)};j.c.28=8(){6 h=5.R.h;6 g=5.R.g;6 I=5.R.1i();6 t=5.27();6 x;b(I){t=5.k.1C(t,h,I,5);x=5.k.1D(t,h,I,5)}l{t=5.k.1C(t,h,g,5);x=5.k.1D(t,h,g,5)}6 f=5.k.1R(5.1o(),x,5);6 o=5.k.1S(f,x,5);b(!o){1Z 21("2R 2S 28 23 f: "+5)}6 7=5.11(12);14 7["t"];14 7["y"];14 7["f"];7["o"]=o;a r 9.K(7)};j.c.2T=8(){6 h=5.R.h;6 N=5.k.1T(5.1o(),h,5);6 G=5.k.1U(N,5);6 7=5.11(12);7["N"]=G;a r 9.u(7)};j.c.2U=8(S){6 1q=5 A 9.u;6 y=5.1p();6 I=5.R.g;6 1r=[];6 7;6 g;26(6 i=0;i<S.1n;++i){g=S[i];7=5.11(12);7["g"]=g;7["I"]=I;b(y){14 7["y"];7["t"]=y[g]}b(1q){1r.29(r 9.u(7))}l{1r.29(r j(7))}}a 1r};j.c.2V=8(13){6 7=5.11(12);7["g"]=13;6 y=5.1p();b(y){6 G=y[13];b(G){7["t"]=G}14 7["y"]}6 I=5.R.1i();b(!I){7["I"]=5.R.g}6 1q=5 A 9.u;b(1q){a r 9.u(7)}l{a r j(7)}};9.j=j;9.H("j")}(L);!8(9){6 j=9.j;6 u=8(7){j.P(5,7)};9.Z(u,j,d);u.c.2a=8(){6 G=5.U("N");a 5.k.1V(G,5)};u.c.2W=8(1s){5.17("1s",1s)};u.c.2X=8(){a 5.U("1s")};u.B=8(7){b(!7){a d}b(7 A u){a 7}a r u(7)};u.c.2Y=8(){6 h=5.R.h;6 f=5.1o();6 N=5.2a();b(5.k.1X(f,N,h,5)){6 7=5.11(12);14 7["N"];a r j(7)}l{a d}};9.u=u;9.H("u")}(L);!8(9){6 q=9.O.q;6 m=9.m;6 p=9.p;6 Y=8(z){6 15=d;b(!z){z=q.1g}l{b(z A p){15=z;z=q.1g}}m.P(5,z);b(15){5.2b(15)}l{b(z.1e("T")){5.2c()}l{5.T=d}}};9.Z(Y,m,d);Y.c.2c=8(){b(!5.T){6 T=5.U("T");5.T=p.B(T)}a 5.T};Y.c.2b=8(15){5.17("T",15);5.T=15};m.H(q.1g,Y);9.O.Y=Y;9.O.H("Y")}(L);',62,185,'|||||this|var|msg|function|ns|return|if|prototype|null|type|data|receiver|sender||SecureMessage|delegate|else|Content|Envelope|content|Message|ContentType|new|time|key|ReliableMessage|env|false|password|keys|info|instanceof|getInstance|console|assert|implement|me|base64|register|group|SecureMessageDelegate|InstantMessage|DaoKeDao|Dictionary|signature|protocol|call|InstantMessageDelegate|envelope|members|forward|getValue|clazz|sn|sMsg|ForwardContent|Class|ReliableMessageDelegate|getMap|true|member|delete|secret||setValue||iMsg|arguments|typeof|valueOf|pwd|hasOwnProperty|count|FORWARD|Math|getGroup|identifier|value|MessageDelegate|Interface|length|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|getTime|Date|1000|serializeKey|encryptKey|encodeKey|decryptKey|deserializeKey|prepare_data|keys_length|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|createInstance|serializeContent|encryptContent|encodeData|decodeKey|decodeData|decryptContent|deserializeContent|signData|encodeSignature|decodeSignature|rMsg|verifyDataSignature|heads|throw||Error||message|encrypt_keys|encrypt_key|for|getKey|decrypt|push|getSignature|setMessage|getMessage|exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|TRANSFER|65|LUCKY_MONEY|66|CLAIM_PAYMENT|72|SPLIT_BILL|73|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|newMessage|instant|error|encrypt|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
