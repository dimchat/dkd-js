/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Jan. 28, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!4(a){3 b=a.D.1G({1H:(0),1I:(1),1J:(16),1K:(18),1L:(20),1M:(22),1N:(1O),1P:(1Q),1R:(1S),1T:(1U),1V:(1W),X:(1X)});7(Y a.L!=="1Y"){a.L={}}a.L.Z=b}(F);!4(d){3 e=d.D.17;3 f=d.L.Z;3 g=1Z;3 h=4(){3 a=10.19(10.21()*g);7(a>0){5 a}s{7(a<0){5-a}}5 23+24};3 i=4(a){7((Y a==="25")||a v f){a={"D":a,"1a":h()}}e.M(2,a);2.D=q f(a["D"]);2.1a=a["1a"]};i.E(e);i.o.S=4(){5 2.G("N")};i.o.1h=4(a){2.T("N",a)};3 j={};i.1i=4(a,b){7(a v f){a=a.1j}j[a]=b};i.t=4(a){7(!a){5 6}s{7(a v i){5 a}}3 b=a["D"];7(b v f){b=b.1j}3 c=j[b];7(Y c==="4"){5 i.1k(c,a)}5 q i(a)};i.1k=4(a,b){7(Y a.t==="4"){5 a.t(b)}s{5 q a(b)}};d.1b=i}(F);!4(e){3 f=e.D.17;3 g=e.L.Z;3 h=4(a){f.M(2,a);2.I=a["I"];2.x=a["x"];2.U=a["U"]};h.E(f);h.26=4(a,b,c){3 d={"I":a,"x":b};7(!c){c=q 1l();d["U"]=10.19(c.1m()/1n)}s{7(c v 1l){d["U"]=10.19(c.1m()/1n)}s{d["U"]=c}}5 q h(d)};h.t=4(a){7(!a){5 6}s{7(a v h){5 a}}5 q h(a)};h.o.S=4(){5 2.G("N")};h.o.1h=4(a){2.T("N",a)};h.o.27=4(){3 a=2.G("D");7(a){5 q g(a)}s{5 6}};h.o.28=4(a){2.T("D",a)};e.1c=h}(F);!4(e){3 f=4(){};3 g=4(){};g.E(f);g.o.1o=4(a,b,c){8.9(a!==6,"H p");8.9(b!==6,"A p");8.9(c!==6,"r p");8.9(w,"y z!");5 6};g.o.1p=4(a,b){8.9(a!==6,"r B p");8.9(b!==6,"r p");8.9(w,"y z!");5 6};g.o.1d=4(a,b,c){8.9(a!==6,"A p");8.9(b!==6,"x p");8.9(c!==6,"r p");8.9(w,"y z!");5 6};g.o.1e=4(a,b){8.9(a!==6,"A B p");8.9(b!==6,"r p");8.9(w,"y z!");5 6};3 h=4(){};h.E(f);h.o.1q=4(a,b){8.9(a!==6,"A 29 p");8.9(b!==6,"2a 1r p");8.9(w,"y z!");5 6};h.o.1f=4(a,b,c,d){8.9(a!==6,"A B p");8.9(b!==6,"I p");8.9(c!==6,"x p");8.9(d!==6,"r p");8.9(w,"y z!");5 6};h.o.1s=4(a,b){8.9(a!==6,"r B p");8.9(b!==6,"r p");8.9(w,"y z!");5 6};h.o.1t=4(a,b,c){8.9(a!==6,"r B p");8.9(b!==6,"A p");8.9(c!==6,"r p");8.9(w,"y z!");5 6};h.o.1u=4(a,b,c){8.9(a!==6,"r B p");8.9(b!==6,"I p");8.9(c!==6,"r p");8.9(w,"y z!");5 6};h.o.1v=4(a,b){8.9(a!==6,"r R p");8.9(b!==6,"r p");8.9(w,"y z!");5 6};3 i=4(){};i.E(h);i.o.1w=4(a,b){8.9(b!==6,"r p");8.9(b!==6,"r p");8.9(w,"y z!");5 6};i.o.1x=4(a,b,c,d){8.9(d!==6,"r p");8.9(d!==6,"r p");8.9(d!==6,"r p");8.9(d!==6,"r p");8.9(w,"y z!");5 w};e.2b=g;e.2c=h;e.2d=i}(F);!4(b){3 c=b.D.17;3 d=b.1c;3 e=4(a){c.M(2,a);2.C=d.t(a);2.u=6};e.E(c);e.t=4(a){7(!a){5 6}7(a.V("H")){5 b.1g.t(a)}7(a.V("R")){5 b.J.t(a)}7(a.V("B")){5 b.11.t(a)}7(a v e){5 a}5 q e(a)};b.12=e}(F);!4(j){3 k=j.1c;3 l=j.1b;3 m=j.12;3 n=4(a){m.M(2,a);2.H=l.t(a["H"])};n.E(m);n.2e=4(a,b){b=k.t(b);3 c=b.O(P);c["H"]=a;5 q n(c)};n.t=4(a){7(!a){5 6}7(a v n){5 a}5 q n(a)};n.o.2f=4(a,b){3 c=2.O(P);3 d=2.u.1o(2.H,a,2);c["B"]=2.u.1p(d,2);Q c["H"];3 e;7(b&&b.13>0){3 f={};3 g;1y(3 i=0;i<b.13;++i){g=b[i];e=2.u.1d(a,g,2);7(e){f[g]=2.u.1e(e,2)}}7(f.13>0){c["W"]=f}c["N"]=2.H.S()}s{3 h=2.C.x;e=2.u.1d(a,h,2);7(e){c["A"]=2.u.1e(e,2)}}5 q j.11(c)};j.1g=n}(F);!4(j){3 k=j.12;3 l=4(a){k.M(2,a)};l.E(k);l.o.14=4(){3 a=2.G("B");5 2.u.1s(a,2)};l.o.1z=4(){3 a=2.G("A");7(!a){3 b=2.15();7(b){a=b[2.C.x]}}7(a){5 2.u.1q(a,2)}s{5 6}};l.o.15=4(){5 2.G("W")};l.t=4(a){7(!a){5 6}7(a.V("R")){5 j.J.t(a)}7(a v l){5 a}5 q l(a)};l.o.1A=4(){3 a=2.C.I;3 b=2.C.x;3 c=2.C.S();3 d=2.1z();3 e;7(c){e=2.u.1f(d,a,c,2)}s{e=2.u.1f(d,a,b,2)}3 f=2.14();3 g=2.u.1t(f,e,2);7(!g){2g 2h("2i 2j 1A 1r B: "+2)}3 h=2.O(P);Q h["A"];Q h["W"];Q h["B"];h["H"]=g;5 q j.1g(h)};l.o.2k=4(){3 a=2.C.I;3 b=2.u.1u(2.14(),a,2);3 c=2.u.1v(b,2);3 d=2.O(P);d["R"]=c;5 q j.J(d)};l.o.2l=4(a){3 b=2 v j.J;3 c=2.15();3 d=2.C.x;3 e=[];3 f;3 g;1y(3 i=0;i<a.13;++i){g=a[i];f=2.O(P);f["x"]=g;f["N"]=d;7(c){Q f["W"];f["A"]=c[g]}7(b){e.1B(q j.J(f))}s{e.1B(q l(f))}}5 e};l.o.2m=4(a){3 b=2.O(P);b["x"]=a;3 c=2.15();7(c){3 d=c[a];7(d){b["A"]=d}Q b["W"]}3 e=2.C.S();7(!e){b["N"]=2.C.x}3 f=2 v j.J;7(f){5 q j.J(b)}s{5 q l(b)}};j.11=l}(F);!4(e){3 f=e.11;3 g=4(a){f.M(2,a)};g.E(f);g.o.1C=4(){3 a=2.G("R");5 2.u.1w(a,2)};g.o.2n=4(a){2.T("1D",a)};g.o.2o=4(){5 2.G("1D")};g.t=4(a){7(!a){5 6}7(a v g){5 a}5 q g(a)};g.o.2p=4(){3 a=2.C.I;3 b=2.14();3 c=2.1C();7(2.u.1x(b,c,a,2)){3 d=2.O(P);Q d["R"];5 q f(d)}s{5 6}};e.J=g}(F);!4(c){3 d=c.L.Z;3 e=c.1b;3 f=c.12;3 g=4(a){3 b=6;7(!a){a=d.X}s{7(a v f){b=a;a=d.X}}e.M(2,a);7(b){2.1E(b)}s{7(a.V("K")){2.1F()}s{2.K=6}}};g.E(e);g.o.1F=4(){7(!2.K){3 a=2.G("K");2.K=f.t(a)}5 2.K};g.o.1E=4(a){2.T("K",a);2.K=a};e.1i(d.X,g);c.L.2q=g}(F);',62,151,'||this|var|function|return|null|if|console|assert|||||||||||||||prototype|empty|new|msg|else|getInstance|delegate|instanceof|false|receiver|implement|me|key|data|envelope|type|inherits|DIMP|getValue|content|sender|ReliableMessage|forward|protocol|call|group|getMap|true|delete|signature|getGroup|setValue|time|hasOwnProperty|keys|FORWARD|typeof|ContentType|Math|SecureMessage|Message|length|getData|getKeys||Dictionary||ceil|sn|Content|Envelope|encryptKey|encodeKey|decryptKey|InstantMessage|setGroup|register|value|createInstance|Date|getTime|1000|encryptContent|encodeData|decodeKey|message|decodeData|decryptContent|signData|encodeSignature|decodeSignature|verifyDataSignature|for|getKey|decrypt|push|getSignature|meta|setMessage|getMessage|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|32|QUOTE|55|MONEY|64|COMMAND|136|HISTORY|137|255|object|4294967295||random||9527|9394|number|newEnvelope|getType|setType|string|secure|InstantMessageDelegate|SecureMessageDelegate|ReliableMessageDelegate|newMessage|encrypt|throw|Error|failed|to|sign|split|trim|setMeta|getMeta|verify|ForwardContent'.split('|'),0,{}))
