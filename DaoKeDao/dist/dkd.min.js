/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Apr. 10, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b(1g M!=="1J"){M={}}!9(8){1K.2f(8);b(1g 8.O!=="1J"){8.O={}}1K.2g(8.O);8.H("O")}(M);!9(8){6 s=8.f.2h(d,{2i:(0),2j:(1),2k:(16),2l:(18),2m:(20),2n:(22),2o:(32),2p:(2q),2r:(2s),2t:(2u),2v:(2w),2x:(2y),2z:(2A),2B:(2C),2D:(2E),1k:(2F)});8.O.s=s;8.O.H("s")}(M);!9(8){6 N=8.f.N;6 s=8.O.s;6 1L=2G;6 1M=9(){6 W=1l.1x(1l.2H()*1L);b(W>0){a W}n{b(W<0){a-W}}a 2I+2J};6 o=9(z){b((1g z==="2K")||z A s){z={"f":z,"W":1M()}}N.P(5,z);6 f=z["f"];b(f A s){f=f.1h()}5.f=f;5.W=z["W"]};8.12(o,N,d);o.e.1m=9(){a 5.U("K")};o.e.1N=9(1n){5.1d("K",1n)};6 1y={};o.H=9(f,V){6 1o;b(f A s){1o=f.1h()}n{1o=f}1y[1o]=V};o.B=9(j){b(!j){a d}n{b(j A o){a j}}6 f=j["f"];b(f A s){f=f.1h()}6 V=1y[f];b(1g V==="9"){a o.1O(V,j)}a l o(j)};o.1O=9(V,1z){b(1g V.B==="9"){a V.B(1z)}n{a l V(1z)}};8.o=o;8.H("o")}(M);!9(8){6 N=8.f.N;6 s=8.O.s;6 p=9(v){N.P(5,v);5.k=v["k"];5.g=v["g"];5.t=v["t"]};8.12(p,N,d);p.e.1A=9(){6 t=5.t;b(t){a l 1B(t*1C)}n{a d}};p.2L=9(k,g,t){6 v={"k":k,"g":g};b(!t){t=l 1B();v["t"]=1l.1x(t.1A()/1C)}n{b(t A 1B){v["t"]=1l.1x(t.1A()/1C)}n{v["t"]=t}}a l p(v)};p.B=9(v){b(!v){a d}n{b(v A p){a v}}a l p(v)};p.e.1m=9(){a 5.U("K")};p.e.1N=9(1n){5.1d("K",1n)};p.e.2M=9(){6 f=5.U("f");b(f A s){a f.1h()}n{a f}};p.e.2N=9(f){b(f A s){5.1d("f",f.1h())}n{5.1d("f",f)}};8.p=p;8.H("p")}(M);!9(8){6 1p=9(){};8.1q(1p,d);6 Q=9(){};8.1q(Q,[1p]);Q.e.1P=9(j,1i,1e){C.D(w,"E F!");a d};Q.e.1Q=9(c,1i,1e){C.D(w,"E F!");a d};Q.e.1R=9(c,1e){C.D(w,"E F!");a d};Q.e.1D=9(1i,1e){C.D(w,"E F!");a d};Q.e.1E=9(c,g,1e){C.D(w,"E F!");a d};Q.e.1F=9(c,1e){C.D(w,"E F!");a d};6 I=9(){};8.1q(I,[1p]);I.e.1S=9(m,X){C.D(w,"E F!");a d};I.e.1T=9(c,k,g,X){C.D(w,"E F!");a d};I.e.1U=9(c,k,g,X){C.D(w,"E F!");a d};I.e.1V=9(c,X){C.D(w,"E F!");a d};I.e.1W=9(c,1i,X){C.D(w,"E F!");a d};I.e.1X=9(c,1i,X){C.D(w,"E F!");a d};I.e.1Y=9(c,k,X){C.D(w,"E F!");a d};I.e.1Z=9(J,X){C.D(w,"E F!");a d};6 13=9(){};8.1q(13,[I]);13.e.21=9(J,23){C.D(w,"E F!");a d};13.e.24=9(c,J,k,23){C.D(w,"E F!");a w};8.Q=Q;8.I=I;8.13=13;8.H("Q");8.H("I");8.H("13")}(M);!9(8){6 N=8.f.N;6 p=8.p;6 q=9(7){N.P(5,7);5.R=p.B(7);5.r=d};8.12(q,N,d);q.B=9(7){b(!7){a d}b(7.1j("j")){a 8.L.B(7)}b(7.1j("J")){a 8.u.B(7)}b(7.1j("c")){a 8.h.B(7)}b(7 A q){a 7}a l q(7)};8.q=q;8.H("q")}(M);!9(8){6 p=8.p;6 o=8.o;6 q=8.q;6 L=9(7){q.P(5,7);5.j=o.B(7["j"])};8.12(L,q,d);L.2O=9(j,25){6 7;6 Y=1f.1r;b(Y===2){6 v=p.B(25);7=v.14(15)}n{b(Y===3||Y===4){6 k=1f[1];6 g=1f[2];6 t=(Y===4)?1f[3]:0;7={"k":k,"g":g,"t":t}}n{Z 10("2P 26 1f 2Q: "+1f)}}7["j"]=j;a l L(7)};L.B=9(7){b(!7){a d}b(7 A L){a 7}a l L(7)};L.e.2R=9(x,S){b(S&&S.1r>0){a 27.P(5,x,S)}n{a 28.P(5,x)}};6 28=9(x){6 7=1G.P(5,x);6 m=5.r.1D(x,5);b(!m){a l 8.h(7)}6 g=5.R.g;6 c=5.r.1E(m,g,5);b(!c){a d}7["m"]=5.r.1F(c,5);a l 8.h(7)};6 27=9(x,S){6 7=1G.P(5,x);6 m=5.r.1D(x,5);b(!m){a l 8.h(7)}6 y={};6 Y=0;6 17;6 c;29(6 i=0;i<S.1r;++i){17=S[i];c=5.r.1E(m,17,5);b(!c){2S}y[17]=5.r.1F(c,5);++Y}b(Y>0){7["y"]=y}a l 8.h(7)};6 1G=9(x){6 c=5.r.1P(5.j,x,5);c=5.r.1Q(c,x,5);6 G=5.r.1R(c,5);6 7=5.14(15);19 7["j"];7["c"]=G;a 7};8.L=L;8.H("L")}(M);!9(8){6 q=8.q;6 h=9(7){q.P(5,7)};8.12(h,q,d);h.e.1s=9(){6 G=5.U("c");a 5.r.1V(G,5)};h.e.2a=9(){6 G=5.U("m");b(!G){6 y=5.1t();b(y){G=y[5.R.g]}}b(G){a 5.r.1S(G,5)}n{a d}};h.e.1t=9(){a 5.U("y")};h.B=9(7){b(!7){a d}b(7.1j("J")){a 8.u.B(7)}b(7 A h){a 7}a l h(7)};h.e.1H=9(){6 k=5.R.k;6 g;6 K=5.R.1m();b(K){g=K}n{g=5.R.g}6 m=5.2a();b(m){m=5.r.1T(m,k,g,5);b(!m){Z 10("1a 1b 1H m 2T 7: "+5)}}6 x=5.r.1U(m,k,g,5);b(!x){Z 10("1a 1b 2U 7 m: "+k+" -> "+g+", "+m)}6 c=5.1s();b(!c){Z 10("1a 1b 1I j c: "+5)}c=5.r.1W(c,x,5);b(!c){Z 10("1a 1b 1H c 2V m: "+x)}6 j=5.r.1X(c,x,5);b(!j){Z 10("1a 1b 2W j: "+c)}6 7=5.14(15);19 7["m"];19 7["y"];19 7["c"];7["j"]=j;a l 8.L(7)};h.e.2X=9(){6 k=5.R.k;6 J=5.r.1Y(5.1s(),k,5);6 G=5.r.1Z(J,5);6 7=5.14(15);7["J"]=G;a l 8.u(7)};h.e.2Y=9(S){6 1u=5 A 8.u;6 y=5.1t();6 K=5.R.g;6 1v=[];6 7;6 g;29(6 i=0;i<S.1r;++i){g=S[i];7=5.14(15);7["g"]=g;7["K"]=K;b(y){19 7["y"];7["m"]=y[g]}b(1u){1v.2b(l 8.u(7))}n{1v.2b(l h(7))}}a 1v};h.e.2Z=9(17){6 7=5.14(15);7["g"]=17;6 y=5.1t();b(y){6 G=y[17];b(G){7["m"]=G}19 7["y"]}6 K=5.R.1m();b(!K){7["K"]=5.R.g}6 1u=5 A 8.u;b(1u){a l 8.u(7)}n{a l h(7)}};8.h=h;8.H("h")}(M);!9(8){6 h=8.h;6 u=9(7){h.P(5,7)};8.12(u,h,d);u.e.2c=9(){6 G=5.U("J");a 5.r.21(G,5)};u.e.30=9(1w){5.1d("1w",1w)};u.e.31=9(){a 5.U("1w")};u.B=9(7){b(!7){a d}b(7 A u){a 7}a l u(7)};u.e.33=9(){6 k=5.R.k;6 c=5.1s();b(!c){Z 10("1a 1b 1I j c: "+5)}6 J=5.2c();b(!J){Z 10("1a 1b 1I 26 J: "+5)}b(5.r.24(c,J,k,5)){6 7=5.14(15);19 7["J"];a l h(7)}n{a d}};8.u=u;8.H("u")}(M);!9(8){6 s=8.O.s;6 o=8.o;6 q=8.q;6 11=9(z){6 1c=d;b(!z){z=s.1k}n{b(z A q){1c=z;z=s.1k}}o.P(5,z);b(1c){5.2d(1c)}n{b(z.1j("T")){5.2e()}n{5.T=d}}};8.12(11,o,d);11.e.2e=9(){b(!5.T){6 T=5.U("T");5.T=q.B(T)}a 5.T};11.e.2d=9(1c){5.1d("T",1c);5.T=1c};o.H(s.1k,11);8.O.11=11;8.O.H("11")}(M);',62,190,'|||||this|var|msg|ns|function|return|if|data|null|prototype|type|receiver|SecureMessage||content|sender|new|key|else|Content|Envelope|Message|delegate|ContentType|time|ReliableMessage|env|false|password|keys|info|instanceof|getInstance|console|assert|implement|me|base64|register|SecureMessageDelegate|signature|group|InstantMessage|DaoKeDao|Dictionary|protocol|call|InstantMessageDelegate|envelope|members|forward|getValue|clazz|sn|sMsg|count|throw|Error|ForwardContent|Class|ReliableMessageDelegate|getMap|true||member||delete|failed|to|secret|setValue|iMsg|arguments|typeof|valueOf|pwd|hasOwnProperty|FORWARD|Math|getGroup|identifier|value|MessageDelegate|Interface|length|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|getTime|Date|1000|serializeKey|encryptKey|encodeKey|prepare_data|decrypt|decode|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|createInstance|serializeContent|encryptContent|encodeData|decodeKey|decryptKey|deserializeKey|decodeData|decryptContent|deserializeContent|signData|encodeSignature||decodeSignature||rMsg|verifyDataSignature|heads|message|encrypt_group_message|encrypt_message|for|getKey|push|getSignature|setMessage|getMessage|exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO|PAGE|QUOTE|55|MONEY|64|TRANSFER|65|LUCKY_MONEY|66|CLAIM_PAYMENT|72|SPLIT_BILL|73|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|newMessage|instant|error|encrypt|continue|in|get|with|deserialize|sign|split|trim|setMeta|getMeta||verify'.split('|'),0,{}))
