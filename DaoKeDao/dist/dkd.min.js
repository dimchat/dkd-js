/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Jan. 28, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('9(14 G!=="1r"){G={}}!6(5){1s.1S(5);9(14 5.M!=="1r"){5.M={}}1s.1T(5.M);5.z("M")}(G);!6(5){4 r=5.h.1U({1V:(0),1W:(1),1X:(16),1Y:(18),1Z:(20),21:(22),23:(24),25:(26),27:(28),29:(2a),2b:(2c),1a:(2d)});5.M.r=r;5.M.z("r")}(G);!6(5){4 H=5.h.H;4 r=5.M.r;4 1t=2e;4 1u=6(){4 R=1b.1l(1b.2f()*1t);9(R>0){7 R}t{9(R<0){7-R}}7 2g+2h};4 m=6(u){9((14 u==="2i")||u D r){u={"h":u,"R":1u()}}H.V(3,u);3.h=n r(u["h"]);3.R=u["R"]};5.W(m,H);m.c.15=6(){7 3.O("A")};m.c.1v=6(1c){3.17("A",1c)};4 1m={};m.z=6(h,P){9(h D r){h=h.1w}1m[h]=P};m.v=6(k){9(!k){7 8}t{9(k D m){7 k}}4 h=k["h"];9(h D r){h=h.1w}4 P=1m[h];9(14 P==="6"){7 m.1x(P,k)}7 n m(k)};m.1x=6(P,1n){9(14 P.v==="6"){7 P.v(1n)}t{7 n P(1n)}};5.m=m;5.z("m")}(G);!6(5){4 H=5.h.H;4 r=5.M.r;4 o=6(x){H.V(3,x);3.l=x["l"];3.f=x["f"];3.I=x["I"]};5.W(o,H);o.2j=6(l,f,I){4 x={"l":l,"f":f};9(!I){I=n 1y();x["I"]=1b.1l(I.1z()/1A)}t{9(I D 1y){x["I"]=1b.1l(I.1z()/1A)}t{x["I"]=I}}7 n o(x)};o.v=6(x){9(!x){7 8}t{9(x D o){7 x}}7 n o(x)};o.c.15=6(){7 3.O("A")};o.c.1v=6(1c){3.17("A",1c)};o.c.2k=6(){4 h=3.O("h");9(h){7 n r(h)}t{7 8}};o.c.2l=6(h){3.17("h",h)};5.o=o;5.z("o")}(G);!6(5){4 1d=6(){};5.1e(1d);4 Q=6(){};5.1e(Q,1d);Q.c.1B=6(k,13,2){a.b(k!==8,"k d");a.b(13!==8,"e d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};Q.c.1C=6(g,2){a.b(g!==8,"2 g d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};Q.c.1o=6(13,f,2){a.b(13!==8,"e d");a.b(f!==8,"f d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};Q.c.1p=6(e,2){a.b(e!==8,"e g d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};4 L=6(){};5.1e(L,1d);L.c.1D=6(e,2){a.b(e!==8,"e 2m d");a.b(2!==8,"2n 1E d");a.b(E,"J K!");7 8};L.c.1q=6(e,l,f,2){a.b(e!==8,"e g d");a.b(l!==8,"l d");a.b(f!==8,"f d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1F=6(g,2){a.b(g!==8,"2 g d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1G=6(g,13,2){a.b(g!==8,"2 g d");a.b(13!==8,"e d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1H=6(g,l,2){a.b(g!==8,"2 g d");a.b(l!==8,"l d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1I=6(B,2){a.b(B!==8,"2 B d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};4 X=6(){};5.1e(X,L);X.c.1J=6(B,2){a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};X.c.1K=6(g,B,l,2){a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(E,"J K!");7 E};5.Q=Q;5.L=L;5.X=X;5.z("Q");5.z("L");5.z("X")}(G);!6(5){4 H=5.h.H;4 o=5.o;4 p=6(2){H.V(3,2);3.y=o.v(2);3.w=8};5.W(p,H);p.v=6(2){9(!2){7 8}9(2.19("k")){7 5.F.v(2)}9(2.19("B")){7 5.q.v(2)}9(2.19("g")){7 5.j.v(2)}9(2 D p){7 2}7 n p(2)};5.p=p;5.z("p")}(G);!6(5){4 o=5.o;4 m=5.m;4 p=5.p;4 F=6(2){p.V(3,2);3.k=m.v(2["k"])};5.W(F,p);F.2o=6(k,y){y=o.v(y);4 2=y.Y(Z);2["k"]=k;7 n F(2)};F.v=6(2){9(!2){7 8}9(2 D F){7 2}7 n F(2)};F.c.2p=6(S,T){4 2=3.Y(Z);4 g=3.w.1B(3.k,S,3);2["g"]=3.w.1C(g,3);10 2["k"];4 e;9(T&&T.1f>0){4 s={};4 11;1L(4 i=0;i<T.1f;++i){11=T[i];e=3.w.1o(S,11,3);9(e){s[11]=3.w.1p(e,3)}}9(s.1f>0){2["s"]=s}2["A"]=3.k.15()}t{4 f=3.y.f;e=3.w.1o(S,f,3);9(e){2["e"]=3.w.1p(e,3)}}7 n 5.j(2)};5.F=F;5.z("F")}(G);!6(5){4 p=5.p;4 j=6(2){p.V(3,2)};5.W(j,p);j.c.1g=6(){4 C=3.O("g");7 3.w.1F(C,3)};j.c.1M=6(){4 C=3.O("e");9(!C){4 s=3.1h();9(s){C=s[3.y.f]}}9(C){7 3.w.1D(C,3)}t{7 8}};j.c.1h=6(){7 3.O("s")};j.v=6(2){9(!2){7 8}9(2.19("B")){7 5.q.v(2)}9(2 D j){7 2}7 n j(2)};j.c.1N=6(){4 l=3.y.l;4 f=3.y.f;4 A=3.y.15();4 e=3.1M();4 S;9(A){S=3.w.1q(e,l,A,3)}t{S=3.w.1q(e,l,f,3)}4 g=3.1g();4 k=3.w.1G(g,S,3);9(!k){2q 2r("2s 2t 1N 1E g: "+3)}4 2=3.Y(Z);10 2["e"];10 2["s"];10 2["g"];2["k"]=k;7 n 5.F(2)};j.c.2u=6(){4 l=3.y.l;4 B=3.w.1H(3.1g(),l,3);4 C=3.w.1I(B,3);4 2=3.Y(Z);2["B"]=C;7 n 5.q(2)};j.c.2v=6(T){4 1i=3 D 5.q;4 s=3.1h();4 A=3.y.f;4 1j=[];4 2;4 f;1L(4 i=0;i<T.1f;++i){f=T[i];2=3.Y(Z);2["f"]=f;2["A"]=A;9(s){10 2["s"];2["e"]=s[f]}9(1i){1j.1O(n 5.q(2))}t{1j.1O(n j(2))}}7 1j};j.c.2w=6(11){4 2=3.Y(Z);2["f"]=11;4 s=3.1h();9(s){4 C=s[11];9(C){2["e"]=C}10 2["s"]}4 A=3.y.15();9(!A){2["A"]=3.y.f}4 1i=3 D 5.q;9(1i){7 n 5.q(2)}t{7 n j(2)}};5.j=j;5.z("j")}(G);!6(5){4 j=5.j;4 q=6(2){j.V(3,2)};5.W(q,j);q.c.1P=6(){4 C=3.O("B");7 3.w.1J(C,3)};q.c.2x=6(1k){3.17("1k",1k)};q.c.2y=6(){7 3.O("1k")};q.v=6(2){9(!2){7 8}9(2 D q){7 2}7 n q(2)};q.c.2z=6(){4 l=3.y.l;4 g=3.1g();4 B=3.1P();9(3.w.1K(g,B,l,3)){4 2=3.Y(Z);10 2["B"];7 n j(2)}t{7 8}};5.q=q;5.z("q")}(G);!6(5){4 r=5.M.r;4 m=5.m;4 p=5.p;4 U=6(u){4 12=8;9(!u){u=r.1a}t{9(u D p){12=u;u=r.1a}}m.V(3,u);9(12){3.1Q(12)}t{9(u.19("N")){3.1R()}t{3.N=8}}};5.W(U,m);U.c.1R=6(){9(!3.N){4 N=3.O("N");3.N=p.v(N)}7 3.N};U.c.1Q=6(12){3.17("N",12);3.N=12};m.z(r.1a,U);5.M.U=U;5.M.z("U")}(G);',62,160,'||msg|this|var|ns|function|return|null|if|console|assert|prototype|empty|key|receiver|data|type||SecureMessage|content|sender|Content|new|Envelope|Message|ReliableMessage|ContentType|keys|else|info|getInstance|delegate|env|envelope|register|group|signature|base64|instanceof|false|InstantMessage|DaoKeDao|Dictionary|time|implement|me|SecureMessageDelegate|protocol|forward|getValue|clazz|InstantMessageDelegate|sn|password|members|ForwardContent|call|Class|ReliableMessageDelegate|getMap|true|delete|member|secret|pwd|typeof|getGroup||setValue||hasOwnProperty|FORWARD|Math|identifier|MessageDelegate|Interface|length|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|encryptKey|encodeKey|decryptKey|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|value|createInstance|Date|getTime|1000|encryptContent|encodeData|decodeKey|message|decodeData|decryptContent|signData|encodeSignature|decodeSignature|verifyDataSignature|for|getKey|decrypt|push|getSignature|setMessage|getMessage|exports|Namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO||VIDEO||PAGE|32|QUOTE|55|MONEY|64|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|string|secure|newMessage|encrypt|throw|Error|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
