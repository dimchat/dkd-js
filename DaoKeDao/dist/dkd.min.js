/**
 * DaoKeDao - Message Module (v0.1.0)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Jan. 28, 2020
 * @copyright (c) 2020 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('9(14 G!=="1q"){G={}}!5(6){1r.1R(6);9(14 6.M!=="1q"){6.M={}}1r.1S(6.M);6.z("M")}(G);!5(6){4 r=6.h.1T({1U:(0),1V:(1),1W:(16),1X:(18),1Y:(20),1Z:(22),21:(23),24:(25),26:(27),28:(29),2a:(2b),1a:(2c)});6.M.r=r;6.M.z("r")}(G);!5(6){4 H=6.h.H;4 r=6.M.r;4 1s=2d;4 1t=5(){4 S=1b.1j(1b.2e()*1s);9(S>0){7 S}t{9(S<0){7-S}}7 2f+2g};4 m=5(u){9((14 u==="2h")||u D r){u={"h":u,"S":1t()}}H.W(3,u);3.h=n r(u["h"]);3.S=u["S"]};m.N(H);m.c.15=5(){7 3.P("A")};m.c.1u=5(1c){3.17("A",1c)};4 1k={};m.z=5(h,Q){9(h D r){h=h.1v}1k[h]=Q};m.v=5(k){9(!k){7 8}t{9(k D m){7 k}}4 h=k["h"];9(h D r){h=h.1v}4 Q=1k[h];9(14 Q==="5"){7 m.1w(Q,k)}7 n m(k)};m.1w=5(Q,1l){9(14 Q.v==="5"){7 Q.v(1l)}t{7 n Q(1l)}};6.m=m;6.z("m")}(G);!5(6){4 H=6.h.H;4 r=6.M.r;4 o=5(x){H.W(3,x);3.l=x["l"];3.f=x["f"];3.I=x["I"]};o.N(H);o.2i=5(l,f,I){4 x={"l":l,"f":f};9(!I){I=n 1x();x["I"]=1b.1j(I.1y()/1z)}t{9(I D 1x){x["I"]=1b.1j(I.1y()/1z)}t{x["I"]=I}}7 n o(x)};o.v=5(x){9(!x){7 8}t{9(x D o){7 x}}7 n o(x)};o.c.15=5(){7 3.P("A")};o.c.1u=5(1c){3.17("A",1c)};o.c.2j=5(){4 h=3.P("h");9(h){7 n r(h)}t{7 8}};o.c.2k=5(h){3.17("h",h)};6.o=o;6.z("o")}(G);!5(6){4 1m=5(){};4 R=5(){};R.N(1m);R.c.1A=5(k,13,2){a.b(k!==8,"k d");a.b(13!==8,"e d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};R.c.1B=5(g,2){a.b(g!==8,"2 g d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};R.c.1n=5(13,f,2){a.b(13!==8,"e d");a.b(f!==8,"f d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};R.c.1o=5(e,2){a.b(e!==8,"e g d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};4 L=5(){};L.N(1m);L.c.1C=5(e,2){a.b(e!==8,"e 2l d");a.b(2!==8,"2m 1D d");a.b(E,"J K!");7 8};L.c.1p=5(e,l,f,2){a.b(e!==8,"e g d");a.b(l!==8,"l d");a.b(f!==8,"f d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1E=5(g,2){a.b(g!==8,"2 g d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1F=5(g,13,2){a.b(g!==8,"2 g d");a.b(13!==8,"e d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1G=5(g,l,2){a.b(g!==8,"2 g d");a.b(l!==8,"l d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};L.c.1H=5(B,2){a.b(B!==8,"2 B d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};4 X=5(){};X.N(L);X.c.1I=5(B,2){a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(E,"J K!");7 8};X.c.1J=5(g,B,l,2){a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(2!==8,"2 d");a.b(E,"J K!");7 E};6.R=R;6.L=L;6.X=X;6.z("R");6.z("L");6.z("X")}(G);!5(6){4 H=6.h.H;4 o=6.o;4 p=5(2){H.W(3,2);3.y=o.v(2);3.w=8};p.N(H);p.v=5(2){9(!2){7 8}9(2.19("k")){7 6.F.v(2)}9(2.19("B")){7 6.q.v(2)}9(2.19("g")){7 6.j.v(2)}9(2 D p){7 2}7 n p(2)};6.p=p;6.z("p")}(G);!5(6){4 o=6.o;4 m=6.m;4 p=6.p;4 F=5(2){p.W(3,2);3.k=m.v(2["k"])};F.N(p);F.2n=5(k,y){y=o.v(y);4 2=y.Y(Z);2["k"]=k;7 n F(2)};F.v=5(2){9(!2){7 8}9(2 D F){7 2}7 n F(2)};F.c.2o=5(T,U){4 2=3.Y(Z);4 g=3.w.1A(3.k,T,3);2["g"]=3.w.1B(g,3);10 2["k"];4 e;9(U&&U.1d>0){4 s={};4 11;1K(4 i=0;i<U.1d;++i){11=U[i];e=3.w.1n(T,11,3);9(e){s[11]=3.w.1o(e,3)}}9(s.1d>0){2["s"]=s}2["A"]=3.k.15()}t{4 f=3.y.f;e=3.w.1n(T,f,3);9(e){2["e"]=3.w.1o(e,3)}}7 n 6.j(2)};6.F=F;6.z("F")}(G);!5(6){4 p=6.p;4 j=5(2){p.W(3,2)};j.N(p);j.c.1e=5(){4 C=3.P("g");7 3.w.1E(C,3)};j.c.1L=5(){4 C=3.P("e");9(!C){4 s=3.1f();9(s){C=s[3.y.f]}}9(C){7 3.w.1C(C,3)}t{7 8}};j.c.1f=5(){7 3.P("s")};j.v=5(2){9(!2){7 8}9(2.19("B")){7 6.q.v(2)}9(2 D j){7 2}7 n j(2)};j.c.1M=5(){4 l=3.y.l;4 f=3.y.f;4 A=3.y.15();4 e=3.1L();4 T;9(A){T=3.w.1p(e,l,A,3)}t{T=3.w.1p(e,l,f,3)}4 g=3.1e();4 k=3.w.1F(g,T,3);9(!k){2p 2q("2r 2s 1M 1D g: "+3)}4 2=3.Y(Z);10 2["e"];10 2["s"];10 2["g"];2["k"]=k;7 n 6.F(2)};j.c.2t=5(){4 l=3.y.l;4 B=3.w.1G(3.1e(),l,3);4 C=3.w.1H(B,3);4 2=3.Y(Z);2["B"]=C;7 n 6.q(2)};j.c.2u=5(U){4 1g=3 D 6.q;4 s=3.1f();4 A=3.y.f;4 1h=[];4 2;4 f;1K(4 i=0;i<U.1d;++i){f=U[i];2=3.Y(Z);2["f"]=f;2["A"]=A;9(s){10 2["s"];2["e"]=s[f]}9(1g){1h.1N(n 6.q(2))}t{1h.1N(n j(2))}}7 1h};j.c.2v=5(11){4 2=3.Y(Z);2["f"]=11;4 s=3.1f();9(s){4 C=s[11];9(C){2["e"]=C}10 2["s"]}4 A=3.y.15();9(!A){2["A"]=3.y.f}4 1g=3 D 6.q;9(1g){7 n 6.q(2)}t{7 n j(2)}};6.j=j;6.z("j")}(G);!5(6){4 j=6.j;4 q=5(2){j.W(3,2)};q.N(j);q.c.1O=5(){4 C=3.P("B");7 3.w.1I(C,3)};q.c.2w=5(1i){3.17("1i",1i)};q.c.2x=5(){7 3.P("1i")};q.v=5(2){9(!2){7 8}9(2 D q){7 2}7 n q(2)};q.c.2y=5(){4 l=3.y.l;4 g=3.1e();4 B=3.1O();9(3.w.1J(g,B,l,3)){4 2=3.Y(Z);10 2["B"];7 n j(2)}t{7 8}};6.q=q;6.z("q")}(G);!5(6){4 r=6.M.r;4 m=6.m;4 p=6.p;4 V=5(u){4 12=8;9(!u){u=r.1a}t{9(u D p){12=u;u=r.1a}}m.W(3,u);9(12){3.1P(12)}t{9(u.19("O")){3.1Q()}t{3.O=8}}};V.N(m);V.c.1Q=5(){9(!3.O){4 O=3.P("O");3.O=p.v(O)}7 3.O};V.c.1P=5(12){3.17("O",12);3.O=12};m.z(r.1a,V);6.M.V=V;6.M.z("V")}(G);',62,159,'||msg|this|var|function|ns|return|null|if|console|assert|prototype|empty|key|receiver|data|type||SecureMessage|content|sender|Content|new|Envelope|Message|ReliableMessage|ContentType|keys|else|info|getInstance|delegate|env|envelope|register|group|signature|base64|instanceof|false|InstantMessage|DaoKeDao|Dictionary|time|implement|me|SecureMessageDelegate|protocol|inherits|forward|getValue|clazz|InstantMessageDelegate|sn|password|members|ForwardContent|call|ReliableMessageDelegate|getMap|true|delete|member|secret|pwd|typeof|getGroup||setValue||hasOwnProperty|FORWARD|Math|identifier|length|getData|getKeys|reliable|messages|meta|ceil|content_classes|map|MessageDelegate|encryptKey|encodeKey|decryptKey|object|DIMP|MAX_LONG|randomPositiveInteger|setGroup|value|createInstance|Date|getTime|1000|encryptContent|encodeData|decodeKey|message|decodeData|decryptContent|signData|encodeSignature|decodeSignature|verifyDataSignature|for|getKey|decrypt|push|getSignature|setMessage|getMessage|exports|namespace|Enum|UNKNOWN|TEXT|FILE|IMAGE|AUDIO|VIDEO||PAGE||32|QUOTE|55|MONEY|64|COMMAND|136|HISTORY|137|255|4294967295|random|9527|9394|number|newEnvelope|getType|setType|string|secure|newMessage|encrypt|throw|Error|failed|to|sign|split|trim|setMeta|getMeta|verify'.split('|'),0,{}))
